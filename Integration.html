
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf8" />
  <title>ИНСТРУКЦИЯ ПО НАСТРОЙКЕ СКРИПТА ИНТЕГРАЦИИ ДЛЯ ПРИЕМА ПЛАТЕЖЕЙ</title>
  <link rel="icon" type="image/x-icon" href="https://cdn.tbank.ru/params/common_front/resourses/icons/favicon-32x32.png">
  <!-- needed for adaptive design -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tbank.ru/twa/v5/bundles/generic/client.js?project=pwa" defer></script>
  <style>
    body {
      padding: 0;
      margin: 0;
    }
    @font-face {
      font-family: "TinkoffSans";
      src: url("/kassa/dev/assets/fonts/TinkoffSans.ttf") format('truetype');
    }
    @font-face {
      font-family: "TinkoffSansMedium";
      src: url("/kassa/dev/assets/fonts/TinkoffSans_Medium.ttf") format('truetype');
    }
  </style>
  <script src="https://cdn.redoc.ly/redoc/v2.1.3/bundles/redoc.standalone.js"></script><style data-styled="true" data-styled-version="6.1.11">.hbcZxn{width:calc(100% - 40%);padding:0 40px;}/*!sc*/
@media print,screen and (max-width: 1400px){.hbcZxn{width:100%;padding:20px 40px;}}/*!sc*/
.loXOCR{width:calc(100% - 40%);padding:0 40px;}/*!sc*/
@media print,screen and (max-width: 1400px){.loXOCR{width:100%;padding:0px 40px;}}/*!sc*/
data-styled.g4[id="sc-fqkwJk"]{content:"hbcZxn,loXOCR,"}/*!sc*/
.yiBKn{padding:20px 0;}/*!sc*/
.yiBKn:last-child{min-height:calc(100vh + 1px);}/*!sc*/
.yiBKn>.yiBKn:last-child{min-height:initial;}/*!sc*/
@media print,screen and (max-width: 1400px){.yiBKn{padding:0;}}/*!sc*/
data-styled.g5[id="sc-dcJtft"]{content:"yiBKn,"}/*!sc*/
.cYhWoc{display:flex;width:100%;padding:0;}/*!sc*/
@media print,screen and (max-width: 1400px){.cYhWoc{flex-direction:column;}}/*!sc*/
data-styled.g8[id="sc-kAycRU"]{content:"cYhWoc,"}/*!sc*/
.ihBOPv{font-family:TinkoffSansMedium,sans-serif,Arial;font-weight:400;font-size:1.85714em;line-height:1.6em;color:#333333;}/*!sc*/
data-styled.g9[id="sc-imWZod"]{content:"ihBOPv,"}/*!sc*/
.GlPEY{font-family:TinkoffSansMedium,sans-serif,Arial;font-weight:400;font-size:1.57143em;line-height:1.6em;color:#333333;margin:0 0 20px;}/*!sc*/
data-styled.g10[id="sc-jXbVAB"]{content:"GlPEY,"}/*!sc*/
.feCDFB{font-family:TinkoffSansMedium,sans-serif,Arial;font-weight:400;font-size:1.27em;line-height:1.6em;color:#333333;}/*!sc*/
data-styled.g11[id="sc-dhKdPU"]{content:"feCDFB,"}/*!sc*/
.buKOug{cursor:pointer;margin-left:-20px;padding:0;line-height:1;width:20px;display:inline-block;outline:0;}/*!sc*/
.buKOug:before{content:'';width:15px;height:15px;background-size:contain;background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSIjMDEwMTAxIiBkPSJNNDU5LjcgMjMzLjRsLTkwLjUgOTAuNWMtNTAgNTAtMTMxIDUwLTE4MSAwIC03LjktNy44LTE0LTE2LjctMTkuNC0yNS44bDQyLjEtNDIuMWMyLTIgNC41LTMuMiA2LjgtNC41IDIuOSA5LjkgOCAxOS4zIDE1LjggMjcuMiAyNSAyNSA2NS42IDI0LjkgOTAuNSAwbDkwLjUtOTAuNWMyNS0yNSAyNS02NS42IDAtOTAuNSAtMjQuOS0yNS02NS41LTI1LTkwLjUgMGwtMzIuMiAzMi4yYy0yNi4xLTEwLjItNTQuMi0xMi45LTgxLjYtOC45bDY4LjYtNjguNmM1MC01MCAxMzEtNTAgMTgxIDBDNTA5LjYgMTAyLjMgNTA5LjYgMTgzLjQgNDU5LjcgMjMzLjR6TTIyMC4zIDM4Mi4ybC0zMi4yIDMyLjJjLTI1IDI0LjktNjUuNiAyNC45LTkwLjUgMCAtMjUtMjUtMjUtNjUuNiAwLTkwLjVsOTAuNS05MC41YzI1LTI1IDY1LjUtMjUgOTAuNSAwIDcuOCA3LjggMTIuOSAxNy4yIDE1LjggMjcuMSAyLjQtMS40IDQuOC0yLjUgNi44LTQuNWw0Mi4xLTQyYy01LjQtOS4yLTExLjYtMTgtMTkuNC0yNS44IC01MC01MC0xMzEtNTAtMTgxIDBsLTkwLjUgOTAuNWMtNTAgNTAtNTAgMTMxIDAgMTgxIDUwIDUwIDEzMSA1MCAxODEgMGw2OC42LTY4LjZDMjc0LjYgMzk1LjEgMjQ2LjQgMzkyLjMgMjIwLjMgMzgyLjJ6Ii8+PC9zdmc+Cg==');opacity:0.5;visibility:hidden;display:inline-block;vertical-align:middle;}/*!sc*/
h1:hover>.buKOug::before,h2:hover>.buKOug::before,.buKOug:hover::before{visibility:visible;}/*!sc*/
data-styled.g14[id="sc-jlZhRR"]{content:"buKOug,"}/*!sc*/
.fPWjto{height:18px;width:18px;min-width:18px;vertical-align:middle;float:right;transition:transform 0.2s ease-out;transform:rotateZ(-90deg);}/*!sc*/
data-styled.g15[id="sc-cwHqhk"]{content:"fPWjto,"}/*!sc*/
.bSgSrX code[class*='language-'],.bSgSrX pre[class*='language-']{text-shadow:0 -0.1em 0.2em black;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}/*!sc*/
@media print{.bSgSrX code[class*='language-'],.bSgSrX pre[class*='language-']{text-shadow:none;}}/*!sc*/
.bSgSrX pre[class*='language-']{padding:1em;margin:0.5em 0;overflow:auto;}/*!sc*/
.bSgSrX .token.comment,.bSgSrX .token.prolog,.bSgSrX .token.doctype,.bSgSrX .token.cdata{color:hsl(30, 20%, 50%);}/*!sc*/
.bSgSrX .token.punctuation{opacity:0.7;}/*!sc*/
.bSgSrX .namespace{opacity:0.7;}/*!sc*/
.bSgSrX .token.property,.bSgSrX .token.tag,.bSgSrX .token.number,.bSgSrX .token.constant,.bSgSrX .token.symbol{color:#4a8bb3;}/*!sc*/
.bSgSrX .token.boolean{color:#e64441;}/*!sc*/
.bSgSrX .token.selector,.bSgSrX .token.attr-name,.bSgSrX .token.string,.bSgSrX .token.char,.bSgSrX .token.builtin,.bSgSrX .token.inserted{color:#a0fbaa;}/*!sc*/
.bSgSrX .token.selector+a,.bSgSrX .token.attr-name+a,.bSgSrX .token.string+a,.bSgSrX .token.char+a,.bSgSrX .token.builtin+a,.bSgSrX .token.inserted+a,.bSgSrX .token.selector+a:visited,.bSgSrX .token.attr-name+a:visited,.bSgSrX .token.string+a:visited,.bSgSrX .token.char+a:visited,.bSgSrX .token.builtin+a:visited,.bSgSrX .token.inserted+a:visited{color:#4ed2ba;text-decoration:underline;}/*!sc*/
.bSgSrX .token.property.string{color:white;}/*!sc*/
.bSgSrX .token.operator,.bSgSrX .token.entity,.bSgSrX .token.url,.bSgSrX .token.variable{color:hsl(40, 90%, 60%);}/*!sc*/
.bSgSrX .token.atrule,.bSgSrX .token.attr-value,.bSgSrX .token.keyword{color:hsl(350, 40%, 70%);}/*!sc*/
.bSgSrX .token.regex,.bSgSrX .token.important{color:#e90;}/*!sc*/
.bSgSrX .token.important,.bSgSrX .token.bold{font-weight:bold;}/*!sc*/
.bSgSrX .token.italic{font-style:italic;}/*!sc*/
.bSgSrX .token.entity{cursor:help;}/*!sc*/
.bSgSrX .token.deleted{color:red;}/*!sc*/
data-styled.g32[id="sc-eeDSqt"]{content:"bSgSrX,"}/*!sc*/
.eyrQrY{position:relative;}/*!sc*/
data-styled.g37[id="sc-dtBeHJ"]{content:"eyrQrY,"}/*!sc*/
.doDVKT{font-family:TinkoffSans,sans-serif,Arial;font-weight:400;line-height:1.5em;}/*!sc*/
.doDVKT p:last-child{margin-bottom:0;}/*!sc*/
.doDVKT h1{font-family:TinkoffSansMedium,sans-serif,Arial;font-weight:400;font-size:1.85714em;line-height:1.6em;color:#32329f;margin-top:0;}/*!sc*/
.doDVKT h2{font-family:TinkoffSansMedium,sans-serif,Arial;font-weight:400;font-size:1.57143em;line-height:1.6em;color:#333333;}/*!sc*/
.doDVKT code{color:#e53935;background-color:rgba(38, 50, 56, 0.05);font-family:Courier,monospace;border-radius:2px;border:1px solid rgba(38, 50, 56, 0.1);padding:0 5px;font-size:13px;font-weight:400;word-break:break-word;}/*!sc*/
.doDVKT pre{font-family:Courier,monospace;white-space:pre-wrap;background-color:#11171a;color:white;padding:20px;overflow-x:auto;line-height:normal;border-radius:0;border:1px solid rgba(38, 50, 56, 0.1);}/*!sc*/
.doDVKT pre code{background-color:transparent;color:white;padding:0;}/*!sc*/
.doDVKT pre code:before,.doDVKT pre code:after{content:none;}/*!sc*/
.doDVKT blockquote{margin:0;margin-bottom:1em;padding:0 15px;color:#777;border-left:4px solid #ddd;}/*!sc*/
.doDVKT img{max-width:100%;box-sizing:content-box;}/*!sc*/
.doDVKT ul,.doDVKT ol{padding-left:2em;margin:0;margin-bottom:1em;}/*!sc*/
.doDVKT ul ul,.doDVKT ol ul,.doDVKT ul ol,.doDVKT ol ol{margin-bottom:0;margin-top:0;}/*!sc*/
.doDVKT table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all;border-collapse:collapse;border-spacing:0;margin-top:1.5em;margin-bottom:1.5em;}/*!sc*/
.doDVKT table tr{background-color:#fff;border-top:1px solid #ccc;}/*!sc*/
.doDVKT table tr:nth-child(2n){background-color:#fafafa;}/*!sc*/
.doDVKT table th,.doDVKT table td{padding:6px 13px;border:1px solid #ddd;}/*!sc*/
.doDVKT table th{text-align:left;font-weight:bold;}/*!sc*/
.doDVKT .share-link{cursor:pointer;margin-left:-20px;padding:0;line-height:1;width:20px;display:inline-block;outline:0;}/*!sc*/
.doDVKT .share-link:before{content:'';width:15px;height:15px;background-size:contain;background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSIjMDEwMTAxIiBkPSJNNDU5LjcgMjMzLjRsLTkwLjUgOTAuNWMtNTAgNTAtMTMxIDUwLTE4MSAwIC03LjktNy44LTE0LTE2LjctMTkuNC0yNS44bDQyLjEtNDIuMWMyLTIgNC41LTMuMiA2LjgtNC41IDIuOSA5LjkgOCAxOS4zIDE1LjggMjcuMiAyNSAyNSA2NS42IDI0LjkgOTAuNSAwbDkwLjUtOTAuNWMyNS0yNSAyNS02NS42IDAtOTAuNSAtMjQuOS0yNS02NS41LTI1LTkwLjUgMGwtMzIuMiAzMi4yYy0yNi4xLTEwLjItNTQuMi0xMi45LTgxLjYtOC45bDY4LjYtNjguNmM1MC01MCAxMzEtNTAgMTgxIDBDNTA5LjYgMTAyLjMgNTA5LjYgMTgzLjQgNDU5LjcgMjMzLjR6TTIyMC4zIDM4Mi4ybC0zMi4yIDMyLjJjLTI1IDI0LjktNjUuNiAyNC45LTkwLjUgMCAtMjUtMjUtMjUtNjUuNiAwLTkwLjVsOTAuNS05MC41YzI1LTI1IDY1LjUtMjUgOTAuNSAwIDcuOCA3LjggMTIuOSAxNy4yIDE1LjggMjcuMSAyLjQtMS40IDQuOC0yLjUgNi44LTQuNWw0Mi4xLTQyYy01LjQtOS4yLTExLjYtMTgtMTkuNC0yNS44IC01MC01MC0xMzEtNTAtMTgxIDBsLTkwLjUgOTAuNWMtNTAgNTAtNTAgMTMxIDAgMTgxIDUwIDUwIDEzMSA1MCAxODEgMGw2OC42LTY4LjZDMjc0LjYgMzk1LjEgMjQ2LjQgMzkyLjMgMjIwLjMgMzgyLjJ6Ii8+PC9zdmc+Cg==');opacity:0.5;visibility:hidden;display:inline-block;vertical-align:middle;}/*!sc*/
.doDVKT h1:hover>.share-link::before,.doDVKT h2:hover>.share-link::before,.doDVKT .share-link:hover::before{visibility:visible;}/*!sc*/
.doDVKT a{text-decoration:auto;color:#32329f;}/*!sc*/
.doDVKT a:visited{color:#32329f;}/*!sc*/
.doDVKT a:hover{color:#6868cf;text-decoration:auto;}/*!sc*/
data-styled.g42[id="sc-eBMFzZ"]{content:"doDVKT,"}/*!sc*/
.hJudwp{margin-top:0;margin-bottom:0.5em;}/*!sc*/
data-styled.g91[id="sc-fTFkHh"]{content:"hJudwp,"}/*!sc*/
.dyWjRw{border:1px solid #32329f;color:#32329f;font-weight:normal;margin-left:0.5em;padding:4px 8px 4px;display:inline-block;text-decoration:none;cursor:pointer;}/*!sc*/
data-styled.g92[id="sc-ktJcvw"]{content:"dyWjRw,"}/*!sc*/
.fOljxM::before{content:'|';display:inline-block;opacity:0.5;width:15px;text-align:center;}/*!sc*/
.fOljxM:last-child::after{display:none;}/*!sc*/
data-styled.g93[id="sc-gmgEyz"]{content:"fOljxM,"}/*!sc*/
.knZeAO{overflow:hidden;}/*!sc*/
data-styled.g94[id="sc-kMkwmO"]{content:"knZeAO,"}/*!sc*/
.foAXyM{display:flex;flex-wrap:wrap;margin-left:-15px;}/*!sc*/
data-styled.g95[id="sc-fiCwYx"]{content:"foAXyM,"}/*!sc*/
.fQwuKH{max-height:260px;max-width:260px;padding:2px;width:100%;display:block;}/*!sc*/
data-styled.g96[id="sc-jIGoMM"]{content:"fQwuKH,"}/*!sc*/
.bhXSQX{text-align:center;}/*!sc*/
data-styled.g97[id="sc-fBdQPP"]{content:"bhXSQX,"}/*!sc*/
.gVzKKH{margin:0;padding:0;}/*!sc*/
.gVzKKH:first-child{padding-bottom:32px;}/*!sc*/
.sc-iHmqaY .sc-iHmqaY{font-size:0.929em;}/*!sc*/
.eNA-DKG{margin:0;padding:0;display:none;}/*!sc*/
.eNA-DKG:first-child{padding-bottom:32px;}/*!sc*/
.sc-iHmqaY .sc-iHmqaY{font-size:0.929em;}/*!sc*/
data-styled.g100[id="sc-iHmqaY"]{content:"gVzKKH,eNA-DKG,"}/*!sc*/
.jiiTgL{list-style:none inside none;overflow:hidden;text-overflow:ellipsis;padding:0;}/*!sc*/
data-styled.g101[id="sc-kYxEyd"]{content:"jiiTgL,"}/*!sc*/
.fARyOe{cursor:pointer;color:#fff;margin:0;padding:12.5px 20px;display:flex;justify-content:space-between;font-family:TinkoffSansMedium,sans-serif,Arial;font-size:0.929em;text-transform:none;background-color:#616871;}/*!sc*/
.fARyOe:hover{color:#fff;background-color:#494f56;}/*!sc*/
.fARyOe .sc-cwHqhk{height:1.5em;width:1.5em;}/*!sc*/
.fARyOe .sc-cwHqhk polygon{fill:#fff;}/*!sc*/
.dFzsER{cursor:pointer;color:#fff;margin:0;padding:12.5px 20px;padding-left:40px;display:flex;justify-content:space-between;font-family:TinkoffSansMedium,sans-serif,Arial;background-color:#616871;}/*!sc*/
.dFzsER:hover{color:#fff;background-color:#555b63;}/*!sc*/
.dFzsER .sc-cwHqhk{height:1.5em;width:1.5em;}/*!sc*/
.dFzsER .sc-cwHqhk polygon{fill:#fff;}/*!sc*/
data-styled.g102[id="sc-bpUCxw"]{content:"fARyOe,dFzsER,"}/*!sc*/
.kgCeIH{display:inline-block;vertical-align:middle;width:calc(100% - 38px);overflow:hidden;text-overflow:ellipsis;}/*!sc*/
data-styled.g103[id="sc-eyvHYj"]{content:"kgCeIH,"}/*!sc*/
.dFEjoQ{font-size:0.8em;margin-top:10px;text-align:center;position:fixed;width:260px;bottom:0;background:#616871;}/*!sc*/
.dFEjoQ a,.dFEjoQ a:visited,.dFEjoQ a:hover{color:#fff!important;padding:5px 0;border-top:1px solid #494f56;text-decoration:none;display:flex;align-items:center;justify-content:center;}/*!sc*/
.dFEjoQ img{width:15px;margin-right:5px;}/*!sc*/
@media screen and (max-width: 900px){.dFEjoQ{width:100%;}}/*!sc*/
data-styled.g104[id="sc-gfopwy"]{content:"dFEjoQ,"}/*!sc*/
.fztUTL{user-select:none;width:20px;height:20px;align-self:center;display:flex;flex-direction:column;color:#32329f;}/*!sc*/
data-styled.g129[id="sc-bVVHAX"]{content:"fztUTL,"}/*!sc*/
.fVdKOt{width:260px;background-color:#616871;overflow:hidden;display:flex;flex-direction:column;backface-visibility:hidden;height:100vh;position:sticky;position:-webkit-sticky;top:0;}/*!sc*/
@media screen and (max-width: 900px){.fVdKOt{position:fixed;z-index:20;width:100%;background:#616871;display:none;}}/*!sc*/
@media print{.fVdKOt{display:none;}}/*!sc*/
data-styled.g130[id="sc-dPZUdm"]{content:"fVdKOt,"}/*!sc*/
.emuQax{outline:none;user-select:none;background-color:#f2f2f2;color:#32329f;display:none;cursor:pointer;position:fixed;right:20px;z-index:100;border-radius:50%;box-shadow:0 0 20px rgba(0, 0, 0, 0.3);bottom:44px;width:60px;height:60px;padding:0 20px;}/*!sc*/
@media screen and (max-width: 900px){.emuQax{display:flex;}}/*!sc*/
.emuQax svg{color:#0065FB;}/*!sc*/
@media print{.emuQax{display:none;}}/*!sc*/
data-styled.g131[id="sc-eBHgEO"]{content:"emuQax,"}/*!sc*/
.dfyvqU{font-family:TinkoffSans,sans-serif,Arial;font-size:15px;font-weight:400;line-height:1.5em;color:#333333;display:flex;position:relative;text-align:left;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;text-rendering:optimizeSpeed!important;tap-highlight-color:rgba(0, 0, 0, 0);text-size-adjust:100%;}/*!sc*/
.dfyvqU *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(255, 255, 255, 0);}/*!sc*/
data-styled.g132[id="sc-iXzffn"]{content:"dfyvqU,"}/*!sc*/
.fZCgIE{z-index:1;position:relative;overflow:hidden;width:calc(100% - 260px);contain:layout;}/*!sc*/
@media print,screen and (max-width: 900px){.fZCgIE{width:100%;}}/*!sc*/
data-styled.g133[id="sc-lnPyOc"]{content:"fZCgIE,"}/*!sc*/
.btTIPc{background:#263238;position:absolute;top:0;bottom:0;right:0;width:calc((100% - 260px) * 0.4);}/*!sc*/
@media print,screen and (max-width: 1400px){.btTIPc{display:none;}}/*!sc*/
data-styled.g134[id="sc-eulNPF"]{content:"btTIPc,"}/*!sc*/
.fcCKrX{padding:5px 0;}/*!sc*/
data-styled.g135[id="sc-dExXmK"]{content:"fcCKrX,"}/*!sc*/
.ccoDyw{width:calc(100% - 40px);box-sizing:border-box;margin:0 20px;padding:5px 10px 5px 20px;border:0;border-bottom:1px solid #79818c;font-family:TinkoffSans,sans-serif,Arial;font-weight:bold;font-size:13px;color:#fff;background-color:transparent;outline:none;}/*!sc*/
data-styled.g136[id="sc-iapVNj"]{content:"ccoDyw,"}/*!sc*/
.kmRcnV{position:absolute;left:20px;height:1.8em;width:0.9em;}/*!sc*/
.kmRcnV path{fill:#fff;}/*!sc*/
data-styled.g137[id="sc-kqGpvY"]{content:"kmRcnV,"}/*!sc*/
</style>
</head>

<body>
  
      <div id="redoc"><div class="sc-iXzffn dfyvqU redoc-wrap"><div class="sc-dPZUdm fVdKOt menu-content" style="top:0px;height:calc(100vh - 0px)"><div class="sc-fBdQPP bhXSQX"><img src="/kassa/dev/assets/img/logo.svg" alt="logo" class="sc-jIGoMM fQwuKH"/></div><div role="search" class="sc-dExXmK fcCKrX"><svg class="sc-kqGpvY kmRcnV search-icon" version="1.1" viewBox="0 0 1000 1000" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path d="M968.2,849.4L667.3,549c83.9-136.5,66.7-317.4-51.7-435.6C477.1-25,252.5-25,113.9,113.4c-138.5,138.3-138.5,362.6,0,501C219.2,730.1,413.2,743,547.6,666.5l301.9,301.4c43.6,43.6,76.9,14.9,104.2-12.4C981,928.3,1011.8,893,968.2,849.4z M524.5,522c-88.9,88.7-233,88.7-321.8,0c-88.9-88.7-88.9-232.6,0-321.3c88.9-88.7,233-88.7,321.8,0C613.4,289.4,613.4,433.3,524.5,522z"></path></svg><input placeholder="Search..." aria-label="Search" type="text" class="sc-iapVNj ccoDyw search-input" value=""/></div><div class="sc-dtBeHJ eyrQrY scrollbar-container undefined"><ul role="menu" class="sc-iHmqaY gVzKKH"><li tabindex="0" depth="1" data-item-id="section/Istoriya-izmenenij" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="История изменений" class="sc-eyvHYj kgCeIH">История изменений</span></label></li><li tabindex="0" depth="1" data-item-id="section/Vvedenie" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Введение" class="sc-eyvHYj kgCeIH">Введение</span></label></li><li tabindex="0" depth="1" data-item-id="section/Trebovaniya-k-podklyucheniyu" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Требования к подключению" class="sc-eyvHYj kgCeIH">Требования к подключению</span></label></li><li tabindex="0" depth="1" data-item-id="section/Podderzhivaemye-versii-brauzerov" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Поддерживаемые версии браузеров" class="sc-eyvHYj kgCeIH">Поддерживаемые версии браузеров</span></label></li><li tabindex="0" depth="1" data-item-id="section/Podgotovka-k-ispolzovaniyu" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Подготовка к использованию" class="sc-eyvHYj kgCeIH">Подготовка к использованию</span></label></li><li tabindex="0" depth="1" data-item-id="section/Podklyuchenie-skripta-integracii" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Подключение скрипта интеграции" class="sc-eyvHYj kgCeIH">Подключение скрипта интеграции</span></label></li><li tabindex="0" depth="1" data-item-id="section/Moduli" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Модули" class="sc-eyvHYj kgCeIH">Модули</span><svg class="sc-cwHqhk fPWjto" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon></svg></label><ul class="sc-iHmqaY eNA-DKG"><li tabindex="0" depth="2" data-item-id="section/Moduli/Knopki-bystroj-oplaty" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw dFzsER -depth2"><span width="calc(100% - 38px)" title="Кнопки быстрой оплаты" class="sc-eyvHYj kgCeIH">Кнопки быстрой оплаты</span></label></li><li tabindex="0" depth="2" data-item-id="section/Moduli/Otkrytie-platezhnoj-formy-v-iframe" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw dFzsER -depth2"><span width="calc(100% - 38px)" title="Открытие платежной формы в iframe" class="sc-eyvHYj kgCeIH">Открытие платежной формы в iframe</span></label></li></ul></li><li tabindex="0" depth="1" data-item-id="section/Primery-polnoj-konfiguracii" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw fARyOe -depth1"><span width="calc(100% - 38px)" title="Примеры полной конфигурации" class="sc-eyvHYj kgCeIH">Примеры полной конфигурации</span><svg class="sc-cwHqhk fPWjto" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon></svg></label><ul class="sc-iHmqaY eNA-DKG"><li tabindex="0" depth="2" data-item-id="section/Primery-polnoj-konfiguracii/Vidzhet-s-knopkami-oplaty-(integration.payments)" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw dFzsER -depth2"><span width="calc(100% - 38px)" title="Виджет с кнопками оплаты (integration.payments)" class="sc-eyvHYj kgCeIH">Виджет с кнопками оплаты (integration.payments)</span></label></li><li tabindex="0" depth="2" data-item-id="section/Primery-polnoj-konfiguracii/Platezhnaya-forma-v-iframe" role="menuitem" class="sc-kYxEyd jiiTgL"><label class="sc-bpUCxw dFzsER -depth2"><span width="calc(100% - 38px)" title="Платежная форма в iframe" class="sc-eyvHYj kgCeIH">Платежная форма в iframe</span></label></li></ul></li></ul><div class="sc-gfopwy dFEjoQ"><a target="_blank" rel="noopener noreferrer" href="https://redocly.com/redoc/">API docs by Redocly</a></div></div></div><div class="sc-eBHgEO emuQax"><div class="sc-bVVHAX fztUTL"><svg class="" style="transform:translate(2px, -4px) rotate(180deg);transition:transform 0.2s ease" viewBox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="15" height="15"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg><svg class="" style="transform:translate(2px, 4px);transition:transform 0.2s ease" viewBox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="15" height="15"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></div><div class="sc-lnPyOc fZCgIE api-content"><div class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn api-info"><h1 class="sc-imWZod sc-fTFkHh ihBOPv hJudwp">ИНСТРУКЦИЯ ПО НАСТРОЙКЕ СКРИПТА ИНТЕГРАЦИИ ДЛЯ ПРИЕМА ПЛАТЕЖЕЙ<!-- --> <span>(<!-- -->1.0<!-- -->)</span></h1><p>Download OpenAPI specification<!-- -->:<a download="openapi.json" target="_blank" class="sc-ktJcvw dyWjRw">Download</a></p><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT"><div class="sc-kMkwmO knZeAO"><div class="sc-fiCwYx foAXyM"> <!-- --> <span class="sc-gmgEyz fOljxM">License:<!-- --> <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0</a></span> </div></div></div><div data-role="redoc-summary" html="" class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT"></div><div data-role="redoc-description" html="" class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT"></div></div></div></div><div id="section/Istoriya-izmenenij" data-section-id="section/Istoriya-izmenenij" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Istoriya-izmenenij" aria-label="section/Istoriya-izmenenij"></a>История изменений</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;Описание изменений&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Дата&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Создан документ&lt;/td&gt;
&lt;td&gt;23.04.2025&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
"><table>
<thead>
<tr>
<th><strong>Описание изменений</strong></th>
<th><strong>Дата</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Создан документ</td>
<td>23.04.2025</td>
</tr>
</tbody></table>
</div></div></div><div id="section/Vvedenie" data-section-id="section/Vvedenie" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Vvedenie" aria-label="section/Vvedenie"></a>Введение</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;p&gt;Integration.js — это способ интеграции методов оплат в приложения мерчанта.&lt;/p&gt;
&lt;p&gt;Скрипт позволяет добавить на сайт виджет с кнопками оплаты и открывать платежную форму в iframe, модальном или отдельном окнах.&lt;/p&gt;
"><p>Integration.js — это способ интеграции методов оплат в приложения мерчанта.</p>
<p>Скрипт позволяет добавить на сайт виджет с кнопками оплаты и открывать платежную форму в iframe, модальном или отдельном окнах.</p>
</div></div></div><div id="section/Trebovaniya-k-podklyucheniyu" data-section-id="section/Trebovaniya-k-podklyucheniyu" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Trebovaniya-k-podklyucheniyu" aria-label="section/Trebovaniya-k-podklyucheniyu"></a>Требования к подключению</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;p&gt;Чтобы использовать скрипты интеграции для виджета должны быть выполнены следующие требования:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Cайт должен работать по протоколу HTTPS.&lt;/li&gt;
&lt;li&gt;На сайте должны отсутствовать заголовки:&lt;pre&gt;&lt;code&gt;Cross&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Origin&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Opener&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Policy&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Политики CSP на сайте должны разрешать использовать:&lt;pre&gt;&lt;code&gt;script&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
frame-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
img-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
connect-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
style-src: &#x27;unsafe-inline&#x27; https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
"><p>Чтобы использовать скрипты интеграции для виджета должны быть выполнены следующие требования:</p>
<ol>
<li>Cайт должен работать по протоколу HTTPS.</li>
<li>На сайте должны отсутствовать заголовки:<pre><code>Cross<span class="token operator">-</span>Origin<span class="token operator">-</span>Opener<span class="token operator">-</span>Policy<span class="token punctuation">:</span> <span class="token operator">*</span>
</code></pre>
</li>
<li>Политики CSP на сайте должны разрешать использовать:<pre><code>script<span class="token operator">-</span>src<span class="token punctuation">:</span> https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token comment">/*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
frame-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
img-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
connect-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru
style-src: 'unsafe-inline' https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru</span>
</code></pre>
</li>
</ol>
</div></div></div><div id="section/Podderzhivaemye-versii-brauzerov" data-section-id="section/Podderzhivaemye-versii-brauzerov" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Podderzhivaemye-versii-brauzerov" aria-label="section/Podderzhivaemye-versii-brauzerov"></a>Поддерживаемые версии браузеров</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;ul&gt;
&lt;li&gt;Chrome &amp;gt;= 63;&lt;/li&gt;
&lt;li&gt;Edge &amp;gt;= 19;&lt;/li&gt;
&lt;li&gt;Safari &amp;gt;= 11;&lt;/li&gt;
&lt;li&gt;Firefox &amp;gt;= 67;&lt;/li&gt;
&lt;li&gt;Opera &amp;gt;= 50;&lt;/li&gt;
&lt;li&gt;IE - не поддерживается;&lt;/li&gt;
&lt;li&gt;Samsung Internet &amp;gt;= 8.2;&lt;/li&gt;
&lt;li&gt;Opera Mobile &amp;gt;= 73.&lt;/li&gt;
&lt;/ul&gt;
"><ul>
<li>Chrome &gt;= 63;</li>
<li>Edge &gt;= 19;</li>
<li>Safari &gt;= 11;</li>
<li>Firefox &gt;= 67;</li>
<li>Opera &gt;= 50;</li>
<li>IE - не поддерживается;</li>
<li>Samsung Internet &gt;= 8.2;</li>
<li>Opera Mobile &gt;= 73.</li>
</ul>
</div></div></div><div id="section/Podgotovka-k-ispolzovaniyu" data-section-id="section/Podgotovka-k-ispolzovaniyu" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Podgotovka-k-ispolzovaniyu" aria-label="section/Podgotovka-k-ispolzovaniyu"></a>Подготовка к использованию</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;p&gt;После подключения интернет-эквайринга зайдите в личный кабинет и выберите раздел «Магазины». Во вкладке «Терминалы» будет указан публичный ключ терминала — TerminalKey.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://cdn.tbank.ru/static/documents/terminal_key_pf.png&quot;&gt;&lt;img src=&quot;https://cdn.tbank.ru/static/documents/terminal_key_pf.png&quot; alt=&quot;Где найти номер терминал в ЛК&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Чтобы настроить терминал, нужно выбрать тип подключения «Универсальный» и на вкладке «Способы оплаты» включить нужные способы оплаты.&lt;/p&gt;
&lt;p&gt;Если вы подключаете платежную форму от Т-Банка:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Зайдите в личный кабинет интернет эквайринга → «Магазины».&lt;/li&gt;
&lt;li&gt;Выберите ваш магазин → «Способы оплаты» → Выберите нужный способ оплаты → «Платежная форма Т-Банка» → «Включить».&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Если вы хотите настроить отдельную кнопку быстрой оплаты с помощью виджета:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Зайдите в личный кабинет интернет эквайринга → «Магазины».&lt;/li&gt;
&lt;li&gt;Выберите ваш магазин → «Способы оплаты» → Выберите нужный способ оплаты → «Настроить» → «Своя платежная форма» → «Включить».&lt;/li&gt;
&lt;/ol&gt;
"><p>После подключения интернет-эквайринга зайдите в личный кабинет и выберите раздел «Магазины». Во вкладке «Терминалы» будет указан публичный ключ терминала — TerminalKey.</p>
<p><a href="https://cdn.tbank.ru/static/documents/terminal_key_pf.png"><img src="https://cdn.tbank.ru/static/documents/terminal_key_pf.png" alt="Где найти номер терминал в ЛК"></a></p>
<p>Чтобы настроить терминал, нужно выбрать тип подключения «Универсальный» и на вкладке «Способы оплаты» включить нужные способы оплаты.</p>
<p>Если вы подключаете платежную форму от Т-Банка:</p>
<ol>
<li>Зайдите в личный кабинет интернет эквайринга → «Магазины».</li>
<li>Выберите ваш магазин → «Способы оплаты» → Выберите нужный способ оплаты → «Платежная форма Т-Банка» → «Включить».</li>
</ol>
<p>Если вы хотите настроить отдельную кнопку быстрой оплаты с помощью виджета:</p>
<ol>
<li>Зайдите в личный кабинет интернет эквайринга → «Магазины».</li>
<li>Выберите ваш магазин → «Способы оплаты» → Выберите нужный способ оплаты → «Настроить» → «Своя платежная форма» → «Включить».</li>
</ol>
</div></div></div><div id="section/Podklyuchenie-skripta-integracii" data-section-id="section/Podklyuchenie-skripta-integracii" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Podklyuchenie-skripta-integracii" aria-label="section/Podklyuchenie-skripta-integracii"></a>Подключение скрипта интеграции</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;blockquote&gt;
&lt;p&gt;Скрипт размещен по адресу &lt;a href=&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&gt;https://acq-paymentform-integrationjs.t-static.ru/integration.js&lt;/a&gt;
Полностью копировать скрипт в свою сборку не нужно. Рекомендуем всегда загружать скрипт из предоставленного URL. 
Это позволит всегда использовать актуальную версию скрипта, включая все исправления и обновления безопасности.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Установите HTML-код на всех нужных страницах перед закрывающим тегом &lt;/body&gt;. 
Передайте в атрибут &lt;code&gt;onload&lt;/code&gt; название метода, который будет отвечать за инициализацию и обработку платежей:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt; onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt; async&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Проведите инициализацию скрипта:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// IntegrationInitConfig интерфейс, описан в разделе &quot;Интерфейс глобальной конфигурации&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;    
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Альтернативные способы инициализации&lt;/b&gt;&lt;/summary&gt;
Можно использовать любой из способов подключения: 

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Простой&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt; onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt; async&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// IntegrationInitConfig интерфейс, описан в разделе &quot;Интерфейс глобальной конфигурации&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;integration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;// Место для кода взаимодействия с объектом integration&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Синхронный&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  async &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initPayment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    const integration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// initConfig - экземпляр интерфейса IntegrationInitConfig, описан в разделе &quot;Интерфейс глобальной конфигурации&quot;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Место для кода взаимодействия с объектом integration&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 
  &lt;span class=&quot;token function&quot;&gt;initPayment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Динамический&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  async &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadJs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      const element &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;script&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;text/javascript&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;async &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onload &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onerror &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 
  async &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initPayment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    await &lt;span class=&quot;token function&quot;&gt;loadJs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;https://acq-paymentform-integrationjs.t-static.ru/integration.js&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
    const integration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// initConfig - экземпляр интерфейса IntegrationInitConfig, описан в разделе &quot;Интерфейс глобальной конфигурации&quot;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//  Место для кода взаимодействия с объектом integration&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 
  &lt;span class=&quot;token function&quot;&gt;initPayment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;/details&gt;

&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Настройте нужную конфигурацию скрипта.
Используйте только те ключи объекта features (модули), которые вам нужны:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Значение terminalKey из личного кабинета&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Добавьте, если нужны кнопки оплаты&lt;/span&gt;
       iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Добавьте, если нужно встроить платежную форму в iframe&lt;/span&gt;
       addcardIframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Добавьте, если нужно встроить приложение привязки карты в iframe&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Интерфейс глобальной конфигурации&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;export interface &lt;span class=&quot;token class-name&quot;&gt;IntegrationInitConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * Значение terminalKey из личного кабинета
   */&lt;/span&gt;
  terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * Продукт, для интернет-эквайринга значение &#x27;eacq&#x27;
   */&lt;/span&gt;
  product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;   
    &lt;span class=&quot;token comment&quot;&gt;/**
    * При включении iframe ключа в конфигурацию будет загружен модуль работы с iframe для приложения привязки карты
    */&lt;/span&gt;
    addcardIframe&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Если используется параметр container, скрипт встроит iframe в этот элемент
       * На странице должен существовать элемент с id=&quot;paymentContainer&quot;
       */&lt;/span&gt;
      container&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLElement &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Возможность переопределить стандартное поведение виджета
       */&lt;/span&gt;
      config&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IframeIntegrationConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Интерфейс описан в разделе &quot;Конфигурация IframeIntegrationConfig&quot; &lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
       *
       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
       * backend-сервис находит необходимые для запроса метода &quot;Инициировать платеж&quot; поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
       * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
       *
       * Например:
       * const res = await new PaymentIntegration.Helpers().request(URL, &#x27;POST&#x27;, INIT_PARAMS);
       * return res.PaymentURL;
       *
       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на бекенд
       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
       *
       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
       * @returns {Promise&amp;lt;string&gt;}
       */&lt;/span&gt;      
      paymentStartCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * При включении iframe ключа в конфигурацию будет загружен модуль работы с iframe
     */&lt;/span&gt;
    iframe&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Если используется параметр container, скрипт встроит iframe в этот элемент
       * На странице должен существовать элемент с id=&quot;paymentContainer&quot;
       */&lt;/span&gt;
      container&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLElement &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Возможность переопределить стандартное поведение виджета
       */&lt;/span&gt;
      config&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IframeIntegrationConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Интерфейс описан в разделе &quot;Конфигурация IframeIntegrationConfig&quot;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
       *
       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
       * backend-сервис находит необходимые для запроса метода &quot;Инициировать платеж&quot; поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
       * `PaymentUrl` из v2/Init должен быть возвращен во frontend в paymentStartCallback
       *
       * Например:
       * const res = await new PaymentIntegration.Helpers().request(URL, &#x27;POST&#x27;, INIT_PARAMS);
       * return res.PaymentURL;
       *
       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
       *
       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
       * @returns {Promise&amp;lt;string&gt;}
       */&lt;/span&gt;           
      paymentStartCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * При включении payment ключа в конфигурацию будет загружен модуль работы с виджетами оплаты
     */&lt;/span&gt;
    payment&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Если используется параметр container, скрипт встроит все доступные терминалу методы оплаты в этот элемент
       * На странице должен существовать элемент с id=&quot;paymentContainer&quot;
       */&lt;/span&gt;
      container&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLElement &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Возможность переопределить стандартное поведение виджета
       */&lt;/span&gt;
      config&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentIntegrationConfig&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Интерфейс описан в разделе &quot;Конфигурация PaymentIntegrationConfig&quot;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/**
       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
       *
       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
       * backend-сервис находит необходимые для запроса метода &quot;Инициировать платеж&quot; поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
       * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
       *
       * Например:
       * const res = await new PaymentIntegration.Helpers().request(URL, &#x27;POST&#x27;, INIT_PARAMS);
       * return res.PaymentURL;
       *
       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
       *
       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
       * @returns {Promise&amp;lt;string&gt;}
       */&lt;/span&gt;  
      paymentStartCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Пример конфигурации для кнопок оплаты&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/**
         * Если используется параметр container, скрипт встроит все доступные терминалу методы оплаты в этот элемент
         * На странице должен существовать элемент с id=&quot;paymentContainer&quot;
         */&lt;/span&gt;
        container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/**
         * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
         *
         * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
         * backend-сервис находит необходимые для запроса метода &quot;Инициировать платеж&quot; поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
         * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
         *
         * Например:
         * const res = await new PaymentIntegration.Helpers().request(URL, &#x27;POST&#x27;, INIT_PARAMS);
         * return res.PaymentURL;
         *
         * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на бекенд
         * В данном примере URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
         *
         * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
         * @returns {Promise&amp;lt;string&gt;}
         */&lt;/span&gt;
        paymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Helpers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- URL это url вашего backend, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PaymentURL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Пример конфигурации для платежной формы в iframe&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Значение terminalKey из личного кабинета&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Добавьте, если нужно встроить платежную форму в iframe&lt;/span&gt;
          container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- На странице должен существовать элемент с id=&quot;paymentContainer&quot;&lt;/span&gt;
          paymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;     
            const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;helpers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- URL это url вашего backend, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;paymentUrl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;        
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;"><blockquote>
<p>Скрипт размещен по адресу <a href="https://acq-paymentform-integrationjs.t-static.ru/integration.js">https://acq-paymentform-integrationjs.t-static.ru/integration.js</a>
Полностью копировать скрипт в свою сборку не нужно. Рекомендуем всегда загружать скрипт из предоставленного URL. 
Это позволит всегда использовать актуальную версию скрипта, включая все исправления и обновления безопасности.</p>
</blockquote>
<ol>
<li>Установите HTML-код на всех нужных страницах перед закрывающим тегом </body>. 
Передайте в атрибут <code>onload</code> название метода, который будет отвечать за инициализацию и обработку платежей:</li>
</ol>
<pre><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span> onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span> async<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<p>Проведите инициализацию скрипта:</p>
<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// IntegrationInitConfig интерфейс, описан в разделе "Интерфейс глобальной конфигурации"</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>    
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<details><summary><b>Альтернативные способы инициализации</b></summary>
Можно использовать любой из способов подключения: 

<details><summary><b>Простой</b></summary>

<pre><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span> onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span> async<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// IntegrationInitConfig интерфейс, описан в разделе "Интерфейс глобальной конфигурации"</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span>integration<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
         <span class="token comment">// Место для кода взаимодействия с объектом integration</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Синхронный</b></summary>

<pre><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  async <span class="token keyword">function</span> <span class="token function">initPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    const integration <span class="token operator">=</span> await PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// initConfig - экземпляр интерфейса IntegrationInitConfig, описан в разделе "Интерфейс глобальной конфигурации"</span>
    <span class="token comment">// Место для кода взаимодействия с объектом integration</span>
  <span class="token punctuation">}</span>
 
  <span class="token function">initPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Динамический</b></summary>

<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span>
  async <span class="token keyword">function</span> <span class="token function">loadJs</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      const element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
      element<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
      element<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/javascript'</span><span class="token punctuation">;</span>
      element<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      element<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      element<span class="token punctuation">.</span>onerror <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
  async <span class="token keyword">function</span> <span class="token function">initPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    await <span class="token function">loadJs</span><span class="token punctuation">(</span><span class="token string">'https://acq-paymentform-integrationjs.t-static.ru/integration.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    const integration <span class="token operator">=</span> await PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// initConfig - экземпляр интерфейса IntegrationInitConfig, описан в разделе "Интерфейс глобальной конфигурации"</span>
    <span class="token comment">//  Место для кода взаимодействия с объектом integration</span>
  <span class="token punctuation">}</span>
 
  <span class="token function">initPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

</details>

<ol start="2">
<li>Настройте нужную конфигурацию скрипта.
Используйте только те ключи объекта features (модули), которые вам нужны:</li>
</ol>
<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span> 
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Значение terminalKey из личного кабинета</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       payment<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Добавьте, если нужны кнопки оплаты</span>
       iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &lt;-- Добавьте, если нужно встроить платежную форму в iframe</span>
       addcardIframe<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &lt;-- Добавьте, если нужно встроить приложение привязки карты в iframe</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<details><summary><b>Интерфейс глобальной конфигурации</b></summary>

<pre><code>export interface <span class="token class-name">IntegrationInitConfig</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * Значение terminalKey из личного кабинета
   */</span>
  terminalKey<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token comment">/**
   * Продукт, для интернет-эквайринга значение 'eacq'
   */</span>
  product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">;</span>
  features<span class="token punctuation">:</span>  <span class="token punctuation">{</span>   
    <span class="token comment">/**
    * При включении iframe ключа в конфигурацию будет загружен модуль работы с iframe для приложения привязки карты
    */</span>
    addcardIframe<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/**
       * Если используется параметр container, скрипт встроит iframe в этот элемент
       * На странице должен существовать элемент с id="paymentContainer"
       */</span>
      container<span class="token operator">?</span><span class="token punctuation">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token comment">/**
       * Возможность переопределить стандартное поведение виджета
       */</span>
      config<span class="token operator">?</span><span class="token punctuation">:</span> IframeIntegrationConfig<span class="token punctuation">;</span> <span class="token comment">// Интерфейс описан в разделе "Конфигурация IframeIntegrationConfig" </span>
      <span class="token comment">/**
       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
       *
       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
       * backend-сервис находит необходимые для запроса метода "Инициировать платеж" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
       * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
       *
       * Например:
       * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);
       * return res.PaymentURL;
       *
       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на бекенд
       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
       *
       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
       * @returns {Promise&lt;string>}
       */</span>      
      paymentStartCallback<span class="token operator">?</span><span class="token punctuation">:</span> PaymentStartCallback<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * При включении iframe ключа в конфигурацию будет загружен модуль работы с iframe
     */</span>
    iframe<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/**
       * Если используется параметр container, скрипт встроит iframe в этот элемент
       * На странице должен существовать элемент с id="paymentContainer"
       */</span>
      container<span class="token operator">?</span><span class="token punctuation">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token comment">/**
       * Возможность переопределить стандартное поведение виджета
       */</span>
      config<span class="token operator">?</span><span class="token punctuation">:</span> IframeIntegrationConfig<span class="token punctuation">;</span> <span class="token comment">// Интерфейс описан в разделе "Конфигурация IframeIntegrationConfig"</span>
      <span class="token comment">/**
       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
       *
       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
       * backend-сервис находит необходимые для запроса метода "Инициировать платеж" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
       * `PaymentUrl` из v2/Init должен быть возвращен во frontend в paymentStartCallback
       *
       * Например:
       * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);
       * return res.PaymentURL;
       *
       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
       *
       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
       * @returns {Promise&lt;string>}
       */</span>           
      paymentStartCallback<span class="token operator">?</span><span class="token punctuation">:</span> PaymentStartCallback<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * При включении payment ключа в конфигурацию будет загружен модуль работы с виджетами оплаты
     */</span>
    payment<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/**
       * Если используется параметр container, скрипт встроит все доступные терминалу методы оплаты в этот элемент
       * На странице должен существовать элемент с id="paymentContainer"
       */</span>
      container<span class="token operator">?</span><span class="token punctuation">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token comment">/**
       * Возможность переопределить стандартное поведение виджета
       */</span>
      config<span class="token operator">?</span><span class="token punctuation">:</span> PaymentIntegrationConfig<span class="token punctuation">;</span> <span class="token comment">// Интерфейс описан в разделе "Конфигурация PaymentIntegrationConfig"</span>
      <span class="token comment">/**
       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
       *
       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
       * backend-сервис находит необходимые для запроса метода "Инициировать платеж" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
       * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
       *
       * Например:
       * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);
       * return res.PaymentURL;
       *
       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
       *
       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
       * @returns {Promise&lt;string>}
       */</span>  
      paymentStartCallback<span class="token operator">?</span><span class="token punctuation">:</span> PaymentStartCallback<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</details>

<details><summary><b>Пример конфигурации для кнопок оплаты</b></summary>

<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      payment<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">/**
         * Если используется параметр container, скрипт встроит все доступные терминалу методы оплаты в этот элемент
         * На странице должен существовать элемент с id="paymentContainer"
         */</span>
        container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">/**
         * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
         *
         * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
         * backend-сервис находит необходимые для запроса метода "Инициировать платеж" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
         * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
         *
         * Например:
         * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);
         * return res.PaymentURL;
         *
         * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на бекенд
         * В данном примере URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
         *
         * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
         * @returns {Promise&lt;string>}
         */</span>
        paymentStartCallback<span class="token punctuation">:</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          const res <span class="token operator">=</span> await <span class="token keyword">new</span> <span class="token class-name">PaymentIntegration<span class="token punctuation">.</span>Helpers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- URL это url вашего backend, который вызовет метод "Инициировать платеж" в интернет-эквайринге</span>
          <span class="token keyword">return</span> res<span class="token punctuation">.</span>PaymentURL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Пример конфигурации для платежной формы в iframe</b></summary>

<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span> 
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Значение terminalKey из личного кабинета</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// &lt;-- Добавьте, если нужно встроить платежную форму в iframe</span>
          container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- На странице должен существовать элемент с id="paymentContainer"</span>
          paymentStartCallback<span class="token punctuation">:</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>     
            const res <span class="token operator">=</span> await integration<span class="token punctuation">.</span>helpers<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- URL это url вашего backend, который вызовет метод "Инициировать платеж" в интернет-эквайринге</span>
            <span class="token keyword">return</span> res<span class="token punctuation">.</span>paymentUrl<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>        
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details></div></div></div><div id="section/Moduli" data-section-id="section/Moduli" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Moduli" aria-label="section/Moduli"></a>Модули</h2></div></div></div><div id="section/Moduli/Knopki-bystroj-oplaty" data-section-id="section/Moduli/Knopki-bystroj-oplaty" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-dhKdPU feCDFB"><a class="sc-jlZhRR buKOug" href="#section/Moduli/Knopki-bystroj-oplaty" aria-label="section/Moduli/Knopki-bystroj-oplaty"></a>Кнопки быстрой оплаты</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;p&gt;Поддерживаемые виджеты оплаты (WidgetType):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sbp — кнопка оплаты через СБП;&lt;/li&gt;
&lt;li&gt;tpay — кнопка оплаты через T-Pay;&lt;/li&gt;
&lt;li&gt;bnpl — кнопка оплаты Долями;&lt;/li&gt;
&lt;li&gt;sberpay — кнопка оплаты через SberPay. Не отображается в WebView;&lt;/li&gt;
&lt;li&gt;mirpay — кнопка оплаты через MirPay. Отображается только для устройств на ОС Android.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Есть два способа интеграции виджета:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Все доступные методы оплаты — добавляет все включенные в личном кабинете способы оплаты в указанный контейнер (в примере paymentContainer);&lt;/li&gt;
&lt;li&gt;Ручной — позволяет добавлять разные методы оплаты в разные контейнеры.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Оба способа поддерживают установку и переопределение конфигураций.&lt;/p&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Все доступные методы оплаты&lt;/b&gt;&lt;/summary&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Из глобальной конфигурации&lt;/b&gt;&lt;/summary&gt;
Используйте скрипт из глобальной конфигурации:

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Значение terminalKey из личного кабинета&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Добавляем, если нужны кнопки оплаты&lt;/span&gt;
          container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- На странице должен существовать элемент с id=&quot;paymentContainer&quot;&lt;/span&gt;
          paymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;paymentType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- paymentType может использоваться для сбора аналитики         &lt;/span&gt;
            const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;helpers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- URL это url вашего backend, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;paymentUrl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          config&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Возможность переопределить поведение виджета (интерфейс PaymentIntegrationConfig,  описан в разделе &quot;Конфигурация PaymentIntegrationConfig&quot;)&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Динамически&lt;/b&gt;&lt;/summary&gt;

&lt;ol&gt;
&lt;li&gt;Используйте скрипт из глобальной конфигурации:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Значение terminalKey из личного кабинета&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Создайте и соберите скрипт платежной интеграции со всеми возможными способами оплат:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const container &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получите элемент, в который хотите встроить виджет&lt;/span&gt;
const MAIN_INTEGRATION_CONFIG &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Конфигурация описана в разделе &quot;Конфигурация PaymentIntegrationConfig&quot;&lt;/span&gt;
const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mountAllAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MAIN_INTEGRATION_CONFIG&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Создание интеграции&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Ручной&lt;/b&gt;&lt;/summary&gt;

&lt;ol&gt;
&lt;li&gt;Используйте скрипт из глобальной конфигурации:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Значение terminalKey из личного кабинета&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Создайте экземпляр платежной интеграции (блок с кнопками оплаты):&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const MAIN_INTEGRATION_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Любое название для идентификации конкретной интеграции&lt;/span&gt;
const MAIN_INTEGRATION_CONFIG &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Конфигурация описана в разделе &quot;Конфигурация PaymentIntegrationConfig&quot;&lt;/span&gt;
const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MAIN_INTEGRATION_CONFIG&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Создание интеграции&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;На этом этапе создается объект интеграции кнопок оплаты, сами способы оплаты не отображаются. Интеграция не привязана ни к какому контейнеру.
Такой подход позволяет использовать несколько разных интеграций со своими методами оплаты одновременно.&lt;/p&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Получение объекта платежной интеграции после смены контекста выполнения&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получение интеграции&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;Смонтируйте интеграцию:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const container &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получите элемент, в который хотите встроить виджет&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Монтируем интеграцию в контейнер&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;Отобразите кнопки платежных методов.
На этом этапе определяется, какие методы оплаты будут отображены в контейнере. Предварительно следует включить нужные методы оплаты в личном кабинете:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const widgetTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;tpay&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Доступные методы оплаты указаны в начале раздела &quot;Кнопки быстрой оплаты&quot;&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateWidgetTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;widgetTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Передаем нужные методы оплаты в интеграцию&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Скрипт определяет, включены ли способы оплаты в личном кабинете:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;если нужные способы оплаты отключены в личном кабинете — измените updateWidgetTypes;&lt;/li&gt;
&lt;li&gt;если способ оплаты отключен в личном кабинете, но не выключен в скрипте — способ оплаты будет пропущен.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;Установка PaymentStartCallback.
Переданная callback-функция срабатывает каждый раз, когда пользователь нажимает кнопку оплаты на платежной форме.
При нажатии подразумевается вызов метода &lt;a href=&quot;https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init&quot;&gt;Инициировать платеж&lt;/a&gt;.
Функция требует возврата string с &lt;code&gt;PaymentUrl&lt;/code&gt; (например &lt;a href=&quot;https://securepayments.tinkoff.ru/uuid&quot;&gt;https://securepayments.tinkoff.ru/uuid&lt;/a&gt;).&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// IntegrationInitConfig интерфейс, описан в разделе &quot;Интерфейс глобальной конфигурации&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;integration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  
         &lt;span class=&quot;token comment&quot;&gt;/*
           Переданный callback сработает каждый раз при нажатии на кнопку оплаты
         */&lt;/span&gt;
         await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setPaymentStartCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;              
           &lt;span class=&quot;token comment&quot;&gt;/**
            * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
            *
            * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
            * backend-сервис находит необходимые для запроса метода &quot;Инициировать платеж&quot; поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
            * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
            *
            * Например:
            * const res = await new PaymentIntegration.Helpers().request(URL, &#x27;POST&#x27;, INIT_PARAMS);
            * return res.PaymentURL;
            *
            * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
            * В данном примере URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
            *
            * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
            * @returns {Promise&amp;lt;string&gt;}
            */&lt;/span&gt;
           const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;helpers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- URL это url вашего backend, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге&lt;/span&gt;
   
           &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;paymentUrl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Особенности использования метода &lt;a href=&quot;https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init&quot;&gt;Инициировать платеж&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Не используйте вызов метода с передачей суммы в теле запроса из frontend-приложения. Всегда используйте свой backend-сервис. Если backend-сервиса нет, рекомендуем использовать наш &lt;a href=&quot;https://www.tbank.ru/business/website-builder/&quot;&gt;Конструктор сайтов&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Обязательно передавайте &lt;code&gt;connection_type&lt;/code&gt; = &lt;code&gt;Widget&lt;/code&gt; в объекте DATA. В ином случае корректная работа виджета не гарантирована.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/details&gt;

&lt;p&gt;Оба способа поддерживают настройку виджета:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Получите объект платежной интеграции:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;main-integration&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получение интеграции. При интеграции &quot;Все доступные способы оплаты&quot; присваивается имя &quot;main-integration&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Используйте нужные методы для передачи настроек:&lt;/li&gt;
&lt;/ol&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Настройка отображения кнопок платежных методов&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;const displayParams &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  gap&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.375&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Расстояние между кнопками в rem&lt;/span&gt;
  hight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Высота кнопки в rem&lt;/span&gt;
  radius&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Закругление кнопки в rem&lt;/span&gt;
  theme&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    default&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;accent&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateDisplayParams&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;displayParams&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Передаем нужные методы оплаты в инстанс интеграции&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Интерфейс метода displayParams&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;export interface &lt;span class=&quot;token class-name&quot;&gt;WidgetDisplayParams&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  gap&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  height&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  radius&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  theme&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    default&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ButtonTheme&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    tpay&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ButtonThemeTpay&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    mirpay&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ButtonTheme&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sbp&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ButtonTheme&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    bnpl&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ButtonTheme&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sberpay&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ButtonTheme&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 
export type ButtonTheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;accent&#x27;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;filled&#x27;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;outlined&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
export type ButtonThemeTpay &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;accent&#x27;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;accent-black&#x27;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;filled&#x27;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;outlined&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Смена языка&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLang&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LANG&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// LANG = &#x27;ru&#x27; | &#x27;en&#x27;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Смена темы&lt;/b&gt;&lt;/summary&gt;

&lt;p&gt;Если метод setTheme не вызван, тема будет изменяться автоматически в соответствии с системной&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;THEME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// THEME = &#x27;dark&#x27; | &#x27;light&#x27;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Блокировка и разблокировка кнопок&lt;/b&gt;&lt;/summary&gt;

&lt;p&gt;Блокирует кнопки&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Разблокирует кнопки&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unlock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Удаление интеграции&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// или&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unmount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;h3 id=&quot;конфигурация-paymentintegrationconfig&quot;&gt;Конфигурация PaymentIntegrationConfig&lt;/h3&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Интерфейс конфигурации PaymentIntegrationConfig&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;export interface &lt;span class=&quot;token class-name&quot;&gt;PaymentIntegrationConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * Срабатывает после загрузки кнопок оплаты (перед отображением)
   * Может быть использован для отображения loader в контейнере
   */&lt;/span&gt;
  loadedCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; void&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * Возможность переопределить значение z-index оверлея
   */&lt;/span&gt;
  zIndex&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  scroll&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Основной элемент страницы с включенным overflow
     * Используется для блокировки скролла во время отображения оверлея
     * По умолчанию - document.body
     */&lt;/span&gt;
    elementForBlocking&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLElement&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  router&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события на открытие deepLink
     * Стандартное значение: (url) =&gt; {window.location.href = url}
     * @param url
     */&lt;/span&gt;
    deepLinkRedirectCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события на открытие массива deepLink.
     * Требуется для перебора разных приложений, например, для sberpay
     * Стандартное значение: (links) =&gt; {
     *   window.open(
     *       `URL?links=${encodeURIComponent(JSON.stringify(links))}`,
     *       &#x27;_blank&#x27;,
     *     );
     * }
     * URL - url скрипта перебора deepLink
     * @param url
     */&lt;/span&gt;
    deepLinksRedirectCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;links&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события на редирект
     * Стандартное значение: (url) =&gt; {window.location.href = url}
     * @param url
     */&lt;/span&gt;
    redirectCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
 
  dialog&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события exit (оплата отменена пользователем)
     * Например, при нажатии кнопки «Вернуться в магазин» или закрытии модального окна
     * @param url
     */&lt;/span&gt;
    closedCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
  status&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Флаг открытия overlay при смене статуса
     * Если в процессе оплаты диалог оплаты был закрыт, но произошла смена статуса
     * При значении true флага, откроется диалог и отобразится статус платежа
     * Стандартное значение: true
     */&lt;/span&gt;
    openOverlay&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; boolean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент изменения статуса платежа
     * @param status
     */&lt;/span&gt;
    changedCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentIntegrationStatus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
  payment&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения ошибки в paymentStartCallback во время инициализации платежа
     */&lt;/span&gt;
    failedPaymentStartCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 
  alert&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Используется для показа алертов при ошибках
     * При отсутствии используются стандартные алерты
     * @param alert
     */&lt;/span&gt;
    showAlertCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;alert&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; AlertInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;export type PaymentIntegrationStatus &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;CANCELED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;EXPIRED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;NEW&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;PROCESSING_ERROR&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;PROCESSING&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;REFUNDED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;REJECTED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;SUCCESS&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;"><p>Поддерживаемые виджеты оплаты (WidgetType):</p>
<ul>
<li>sbp — кнопка оплаты через СБП;</li>
<li>tpay — кнопка оплаты через T-Pay;</li>
<li>bnpl — кнопка оплаты Долями;</li>
<li>sberpay — кнопка оплаты через SberPay. Не отображается в WebView;</li>
<li>mirpay — кнопка оплаты через MirPay. Отображается только для устройств на ОС Android.</li>
</ul>
<p>Есть два способа интеграции виджета:</p>
<ul>
<li>Все доступные методы оплаты — добавляет все включенные в личном кабинете способы оплаты в указанный контейнер (в примере paymentContainer);</li>
<li>Ручной — позволяет добавлять разные методы оплаты в разные контейнеры.</li>
</ul>
<p>Оба способа поддерживают установку и переопределение конфигураций.</p>
<details><summary><b>Все доступные методы оплаты</b></summary>

<details><summary><b>Из глобальной конфигурации</b></summary>
Используйте скрипт из глобальной конфигурации:

<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span> 
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Значение terminalKey из личного кабинета</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       payment<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// &lt;-- Добавляем, если нужны кнопки оплаты</span>
          container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- На странице должен существовать элемент с id="paymentContainer"</span>
          paymentStartCallback<span class="token punctuation">:</span> async <span class="token punctuation">(</span>paymentType<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token comment">// &lt;-- paymentType может использоваться для сбора аналитики         </span>
            const res <span class="token operator">=</span> await integration<span class="token punctuation">.</span>helpers<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- URL это url вашего backend, который вызовет метод "Инициировать платеж" в интернет-эквайринге</span>
            <span class="token keyword">return</span> res<span class="token punctuation">.</span>paymentUrl<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          config<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &lt;-- Возможность переопределить поведение виджета (интерфейс PaymentIntegrationConfig,  описан в разделе "Конфигурация PaymentIntegrationConfig")</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Динамически</b></summary>

<ol>
<li>Используйте скрипт из глобальной конфигурации:</li>
</ol>
<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span> 
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Значение terminalKey из личного кабинета</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       payment<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<ol start="2">
<li>Создайте и соберите скрипт платежной интеграции со всеми возможными способами оплат:</li>
</ol>
<pre><code>const container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получите элемент, в который хотите встроить виджет</span>
const MAIN_INTEGRATION_CONFIG <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Конфигурация описана в разделе "Конфигурация PaymentIntegrationConfig"</span>
const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">mountAllAvailable</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> MAIN_INTEGRATION_CONFIG<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Создание интеграции</span>
</code></pre>
</details>

</details>

<details><summary><b>Ручной</b></summary>

<ol>
<li>Используйте скрипт из глобальной конфигурации:</li>
</ol>
<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span> 
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Значение terminalKey из личного кабинета</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       payment<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<ol start="2">
<li>Создайте экземпляр платежной интеграции (блок с кнопками оплаты):</li>
</ol>
<pre><code>const MAIN_INTEGRATION_NAME <span class="token operator">=</span> <span class="token string">'main-integration-name'</span><span class="token punctuation">;</span> <span class="token comment">// Любое название для идентификации конкретной интеграции</span>
const MAIN_INTEGRATION_CONFIG <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Конфигурация описана в разделе "Конфигурация PaymentIntegrationConfig"</span>
const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>MAIN_INTEGRATION_NAME<span class="token punctuation">,</span> MAIN_INTEGRATION_CONFIG<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Создание интеграции</span>
</code></pre>
<p>На этом этапе создается объект интеграции кнопок оплаты, сами способы оплаты не отображаются. Интеграция не привязана ни к какому контейнеру.
Такой подход позволяет использовать несколько разных интеграций со своими методами оплаты одновременно.</p>
<details><summary><b>Получение объекта платежной интеграции после смены контекста выполнения</b></summary>

<pre><code>const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'main-integration-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получение интеграции</span>
</code></pre>
</details>

<ol start="3">
<li>Смонтируйте интеграцию:</li>
</ol>
<pre><code>const container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получите элемент, в который хотите встроить виджет</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Монтируем интеграцию в контейнер</span>
</code></pre>
<ol start="4">
<li>Отобразите кнопки платежных методов.
На этом этапе определяется, какие методы оплаты будут отображены в контейнере. Предварительно следует включить нужные методы оплаты в личном кабинете:</li>
</ol>
<pre><code>const widgetTypes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'tpay'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Доступные методы оплаты указаны в начале раздела "Кнопки быстрой оплаты"</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">updateWidgetTypes</span><span class="token punctuation">(</span>widgetTypes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Передаем нужные методы оплаты в интеграцию</span>
</code></pre>
<blockquote>
<p>Скрипт определяет, включены ли способы оплаты в личном кабинете:</p>
<ul>
<li>если нужные способы оплаты отключены в личном кабинете — измените updateWidgetTypes;</li>
<li>если способ оплаты отключен в личном кабинете, но не выключен в скрипте — способ оплаты будет пропущен.</li>
</ul>
</blockquote>
<ol start="5">
<li>Установка PaymentStartCallback.
Переданная callback-функция срабатывает каждый раз, когда пользователь нажимает кнопку оплаты на платежной форме.
При нажатии подразумевается вызов метода <a href="https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init">Инициировать платеж</a>.
Функция требует возврата string с <code>PaymentUrl</code> (например <a href="https://securepayments.tinkoff.ru/uuid">https://securepayments.tinkoff.ru/uuid</a>).</li>
</ol>
<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// IntegrationInitConfig интерфейс, описан в разделе "Интерфейс глобальной конфигурации"</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span>integration<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  
         <span class="token comment">/*
           Переданный callback сработает каждый раз при нажатии на кнопку оплаты
         */</span>
         await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">setPaymentStartCallback</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>              
           <span class="token comment">/**
            * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
            *
            * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
            * backend-сервис находит необходимые для запроса метода "Инициировать платеж" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
            * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
            *
            * Например:
            * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);
            * return res.PaymentURL;
            *
            * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
            * В данном примере URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
            *
            * @param {OverlayType} paymentType - способ оплаты выбранный пользователем
            * @returns {Promise&lt;string>}
            */</span>
           const res <span class="token operator">=</span> await integration<span class="token punctuation">.</span>helpers<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- URL это url вашего backend, который вызовет метод "Инициировать платеж" в интернет-эквайринге</span>
   
           <span class="token keyword">return</span> res<span class="token punctuation">.</span>paymentUrl<span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<blockquote>
<p>Особенности использования метода <a href="https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init">Инициировать платеж</a>:</p>
<ul>
<li>Не используйте вызов метода с передачей суммы в теле запроса из frontend-приложения. Всегда используйте свой backend-сервис. Если backend-сервиса нет, рекомендуем использовать наш <a href="https://www.tbank.ru/business/website-builder/">Конструктор сайтов</a>.</li>
<li>Обязательно передавайте <code>connection_type</code> = <code>Widget</code> в объекте DATA. В ином случае корректная работа виджета не гарантирована.</li>
</ul>
</blockquote>
</details>

<p>Оба способа поддерживают настройку виджета:</p>
<ol>
<li>Получите объект платежной интеграции:</li>
</ol>
<pre><code>const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'main-integration'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получение интеграции. При интеграции "Все доступные способы оплаты" присваивается имя "main-integration"</span>
</code></pre>
<ol start="2">
<li>Используйте нужные методы для передачи настроек:</li>
</ol>
<details><summary><b>Настройка отображения кнопок платежных методов</b></summary>

<pre><code>const displayParams <span class="token operator">=</span> <span class="token punctuation">{</span>
  gap<span class="token punctuation">:</span> <span class="token number">0.375</span><span class="token punctuation">,</span> <span class="token comment">// Расстояние между кнопками в rem</span>
  hight<span class="token punctuation">:</span> <span class="token number">3.5</span><span class="token punctuation">,</span> <span class="token comment">// Высота кнопки в rem</span>
  radius<span class="token punctuation">:</span> <span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token comment">// Закругление кнопки в rem</span>
  theme<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    default<span class="token punctuation">:</span> <span class="token string">'accent'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">updateDisplayParams</span><span class="token punctuation">(</span>displayParams<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Передаем нужные методы оплаты в инстанс интеграции</span>
</code></pre>
<details><summary><b>Интерфейс метода displayParams</b></summary>

<pre><code>export interface <span class="token class-name">WidgetDisplayParams</span> <span class="token punctuation">{</span>
  gap<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  height<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  radius<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  theme<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    default<span class="token operator">?</span><span class="token punctuation">:</span> ButtonTheme<span class="token punctuation">;</span>
    tpay<span class="token operator">?</span><span class="token punctuation">:</span> ButtonThemeTpay<span class="token punctuation">;</span>
    mirpay<span class="token operator">?</span><span class="token punctuation">:</span> ButtonTheme<span class="token punctuation">;</span>
    sbp<span class="token operator">?</span><span class="token punctuation">:</span> ButtonTheme<span class="token punctuation">;</span>
    bnpl<span class="token operator">?</span><span class="token punctuation">:</span> ButtonTheme<span class="token punctuation">;</span>
    sberpay<span class="token operator">?</span><span class="token punctuation">:</span> ButtonTheme<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
export type ButtonTheme <span class="token operator">=</span> <span class="token string">'accent'</span> <span class="token operator">|</span> <span class="token string">'filled'</span> <span class="token operator">|</span> <span class="token string">'outlined'</span><span class="token punctuation">;</span>
export type ButtonThemeTpay <span class="token operator">=</span> <span class="token string">'accent'</span> <span class="token operator">|</span> <span class="token string">'accent-black'</span> <span class="token operator">|</span> <span class="token string">'filled'</span> <span class="token operator">|</span> <span class="token string">'outlined'</span><span class="token punctuation">;</span>
</code></pre>
</details>

</details>

<details><summary><b>Смена языка</b></summary>

<pre><code>await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">setLang</span><span class="token punctuation">(</span>LANG<span class="token punctuation">)</span> <span class="token comment">// LANG = 'ru' | 'en'</span>
</code></pre>
</details>

<details><summary><b>Смена темы</b></summary>

<p>Если метод setTheme не вызван, тема будет изменяться автоматически в соответствии с системной</p>
<pre><code>await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">setTheme</span><span class="token punctuation">(</span>THEME<span class="token punctuation">)</span> <span class="token comment">// THEME = 'dark' | 'light'</span>
</code></pre>
</details>

<details><summary><b>Блокировка и разблокировка кнопок</b></summary>

<p>Блокирует кнопки</p>
<pre><code>await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Разблокирует кнопки</p>
<pre><code>await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</details>

<details><summary><b>Удаление интеграции</b></summary>

<pre><code>await integration<span class="token punctuation">.</span>payment<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>MAIN_INTEGRATION_NAME<span class="token punctuation">)</span>
<span class="token comment">// или</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</details>

<h3 id="конфигурация-paymentintegrationconfig">Конфигурация PaymentIntegrationConfig</h3>
<details><summary><b>Интерфейс конфигурации PaymentIntegrationConfig</b></summary>

<pre><code>export interface <span class="token class-name">PaymentIntegrationConfig</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * Срабатывает после загрузки кнопок оплаты (перед отображением)
   * Может быть использован для отображения loader в контейнере
   */</span>
  loadedCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> void<span class="token punctuation">;</span>
  <span class="token comment">/**
   * Возможность переопределить значение z-index оверлея
   */</span>
  zIndex<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  scroll<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Основной элемент страницы с включенным overflow
     * Используется для блокировки скролла во время отображения оверлея
     * По умолчанию - document.body
     */</span>
    elementForBlocking<span class="token operator">?</span><span class="token punctuation">:</span> HTMLElement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  router<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Вызывается в момент получения события на открытие deepLink
     * Стандартное значение: (url) => {window.location.href = url}
     * @param url
     */</span>
    deepLinkRedirectCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>url<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Вызывается в момент получения события на открытие массива deepLink.
     * Требуется для перебора разных приложений, например, для sberpay
     * Стандартное значение: (links) => {
     *   window.open(
     *       `URL?links=${encodeURIComponent(JSON.stringify(links))}`,
     *       '_blank',
     *     );
     * }
     * URL - url скрипта перебора deepLink
     * @param url
     */</span>
    deepLinksRedirectCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>links<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Вызывается в момент получения события на редирект
     * Стандартное значение: (url) => {window.location.href = url}
     * @param url
     */</span>
    redirectCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>url<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>    
 
  dialog<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Вызывается в момент получения события exit (оплата отменена пользователем)
     * Например, при нажатии кнопки «Вернуться в магазин» или закрытии модального окна
     * @param url
     */</span>
    closedCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
  status<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Флаг открытия overlay при смене статуса
     * Если в процессе оплаты диалог оплаты был закрыт, но произошла смена статуса
     * При значении true флага, откроется диалог и отобразится статус платежа
     * Стандартное значение: true
     */</span>
    openOverlay<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>
    <span class="token comment">/**
     * Вызывается в момент изменения статуса платежа
     * @param status
     */</span>
    changedCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>status<span class="token punctuation">:</span> PaymentIntegrationStatus<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
  payment<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Вызывается в момент получения ошибки в paymentStartCallback во время инициализации платежа
     */</span>
    failedPaymentStartCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">:</span> Error<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
  alert<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Используется для показа алертов при ошибках
     * При отсутствии используются стандартные алерты
     * @param alert
     */</span>
    showAlertCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>alert<span class="token punctuation">:</span> AlertInfo<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre>
<pre><code>export type PaymentIntegrationStatus <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token string">'CANCELED'</span>
  <span class="token operator">|</span> <span class="token string">'EXPIRED'</span>
  <span class="token operator">|</span> <span class="token string">'NEW'</span>
  <span class="token operator">|</span> <span class="token string">'PROCESSING_ERROR'</span>
  <span class="token operator">|</span> <span class="token string">'PROCESSING'</span>
  <span class="token operator">|</span> <span class="token string">'REFUNDED'</span>
  <span class="token operator">|</span> <span class="token string">'REJECTED'</span>
  <span class="token operator">|</span> <span class="token string">'SUCCESS'</span><span class="token punctuation">;</span>
</code></pre>
</details></div></div></div><div id="section/Moduli/Otkrytie-platezhnoj-formy-v-iframe" data-section-id="section/Moduli/Otkrytie-platezhnoj-formy-v-iframe" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-dhKdPU feCDFB"><a class="sc-jlZhRR buKOug" href="#section/Moduli/Otkrytie-platezhnoj-formy-v-iframe" aria-label="section/Moduli/Otkrytie-platezhnoj-formy-v-iframe"></a>Открытие платежной формы в iframe</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;p&gt;Есть два способа открытия в iframe:&lt;/p&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Из глобальной конфигурации&lt;/b&gt;&lt;/summary&gt;
Используйте скрипт из глобальной конфигурации:

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;    
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/**
         * Если используется параметр container, скрипт встроит iframe в этот элемент
         * На странице должен существовать элемент с id=&quot;paymentContainer&quot;
         */&lt;/span&gt;
        container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;         
        &lt;span class=&quot;token comment&quot;&gt;/**
         * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
         *
         * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
         * backend-сервис находит необходимые для запроса метода &quot;Инициировать платеж&quot; поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
         * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
         *
         * Например:
         * const res = await new PaymentIntegration.Helpers().request(URL, &#x27;POST&#x27;, INIT_PARAMS);
         * return res.PaymentURL;
         *
         * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
         * В данном примере URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
         *
         * @param {OverlayType} paymentType - способ оплаты, выбранный пользователем
         * @returns {Promise&amp;lt;string&gt;}
         */&lt;/span&gt;
        paymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Helpers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PaymentURL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Динамически&lt;/b&gt;&lt;/summary&gt;

&lt;ol&gt;
&lt;li&gt;Используйте скрипт из глобальной конфигурации:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- Значение terminalKey из личного кабинета&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Создайте экземпляр iframe интеграции:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const MAIN_INTEGRATION_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Любое название для идентификации конкретной интеграции&lt;/span&gt;
const iframeConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Конфигурация описана разделе &quot;Конфигурация IframeIntegrationConfig&quot;&lt;/span&gt;
const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iframeConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Создание интеграции&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;На этом этапе создается объект интеграции iframe, форма оплаты отражена не будет. Интеграция не привязана ни к какому контейнеру.
Такой подход позволяет использовать несколько разных интеграций одновременно.&lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;Смонтируйте интеграцию:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const container &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получаем элемент, в который хотите встроить платежную форму&lt;/span&gt;
const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;helpers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Инициируем платеж или получение paymentUrl из вашего backend-сервиса&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;paymentUrl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Монтируем интеграцию в контейнер&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Особенности использования метода &lt;a href=&quot;https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init&quot;&gt;Инициировать платеж&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Не используйте вызов метода с передачей суммы в теле запроса из frontend-приложения. Всегда используйте свой backend-сервис. Если backend-сервиса нет, рекомендуем использовать наш &lt;a href=&quot;https://www.tbank.ru/business/website-builder/&quot;&gt;Конструктор сайтов&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/details&gt;

&lt;p&gt;Оба способа поддерживают настройку платежной формы в iframe:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Получите объект iframe-интеграции:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получение интеграции. При использовании метода &quot;Из глобальной конфигурации&quot; присваивается имя &quot;main-integration&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Используйте необходимые методы для передачи настроек:&lt;/li&gt;
&lt;/ol&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Смена языка&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLang&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LANG&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// LANG = &#x27;ru&#x27; | &#x27;en&#x27;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Смена темы&lt;/b&gt;&lt;/summary&gt;

&lt;p&gt;Если метод setTheme не вызван, тема будет изменяться автоматически в соответствии с системной&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;THEME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// THEME = &#x27;dark&#x27; | &#x27;light&#x27;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Удаление интеграции&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// или&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unmount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;h3 id=&quot;конфигурация-iframeintegrationconfig&quot;&gt;Конфигурация IframeIntegrationConfig&lt;/h3&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Интерфейс конфигурации IframeIntegrationConfig&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;export interface &lt;span class=&quot;token class-name&quot;&gt;IframeIntegrationConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  router&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события на открытие deepLink
     * Стандартное значение: (url) =&gt; {window.location.href = url}
     * @param url
     */&lt;/span&gt;
    deepLinkRedirectCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события на открытие массива deepLink.
     * Требуется для перебора разных приложений, например, для sberpay
     * Стандартное значение: (links) =&gt; {
     *   window.open(
     *       `URL?links=${encodeURIComponent(JSON.stringify(links))}`,
     *       &#x27;_blank&#x27;,
     *     );
     * }
     * URL - url скрипта перебора deepLink
     * @param url
     */&lt;/span&gt;
    deepLinksRedirectCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;links&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент получения события на редирект
     * Стандартное значение: (url) =&gt; {window.location.href = url}
     * @param url
     */&lt;/span&gt;
    redirectCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  language&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент изменения языка из платежной формы
     * @param status
     */&lt;/span&gt;
    changedCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lang&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntegrationLang&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  status&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Вызывается в момент изменения статуса платежа
     * @param status
     */&lt;/span&gt;
    changedCallback&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentIntegrationStatus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;void&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;export type PaymentIntegrationStatus &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;CANCELED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;EXPIRED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;NEW&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;PROCESSING_ERROR&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;PROCESSING&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;REFUNDED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;REJECTED&#x27;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;SUCCESS&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;h3 id=&quot;платежная-форма-во-вложенном-iframe&quot;&gt;Платежная форма во вложенном iframe&lt;/h3&gt;
&lt;details&gt;&lt;summary&gt;&lt;b&gt;Интеграция платежной формы во вложенном iframe&lt;/b&gt;&lt;/summary&gt;

&lt;p&gt;Бывают случаи, когда приложение используется внутри iframe, который находится внутри другого iframe.
Для работы виджета, нужно встроить скрипт и инициализировать его во всех вложенных iframe:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Встройте и инициализируйте скрипт в основную (родительскую страницу):&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;iframe id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;payment-form-iframe&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;iframe
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token comment&quot;&gt;// Загрузка и инициализация скрипта (js код)&lt;/span&gt;
await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;payment-form-iframe&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Встройте и инициализируйте скрипт во вложенных iframe.
В конечном вложенном iframe, подключение виджета аналогично инструкции в разделе &amp;quot;Открытие платежной формы в iframe&amp;quot;.
Каждый «промежуточный» скрипт будет перенаправлять сообщения в следующий iframe.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;iframe id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;payment-form-iframe&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;iframe&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token comment&quot;&gt;// Загрузка и инициализация скрипта (js rjl)&lt;/span&gt;
await innerPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;payment-form-iframe&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Если iframe создан&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;"><p>Есть два способа открытия в iframe:</p>
<details><summary><b>Из глобальной конфигурации</b></summary>
Используйте скрипт из глобальной конфигурации:

<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span>    
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">/**
         * Если используется параметр container, скрипт встроит iframe в этот элемент
         * На странице должен существовать элемент с id="paymentContainer"
         */</span>
        container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         
        <span class="token comment">/**
         * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)
         *
         * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId
         * backend-сервис находит необходимые для запроса метода "Инициировать платеж" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init
         * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback
         *
         * Например:
         * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);
         * return res.PaymentURL;
         *
         * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend
         * В данном примере URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
         *
         * @param {OverlayType} paymentType - способ оплаты, выбранный пользователем
         * @returns {Promise&lt;string>}
         */</span>
        paymentStartCallback<span class="token punctuation">:</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          const res <span class="token operator">=</span> await <span class="token keyword">new</span> <span class="token class-name">PaymentIntegration<span class="token punctuation">.</span>Helpers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> res<span class="token punctuation">.</span>PaymentURL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Динамически</b></summary>

<ol>
<li>Используйте скрипт из глобальной конфигурации:</li>
</ol>
<pre><code><span class="token operator">&lt;</span>script<span class="token operator">></span> 
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span> <span class="token comment">// &lt;-- Значение terminalKey из личного кабинета</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
       iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<ol start="2">
<li>Создайте экземпляр iframe интеграции:</li>
</ol>
<pre><code>const MAIN_INTEGRATION_NAME <span class="token operator">=</span> <span class="token string">'main-integration-name'</span><span class="token punctuation">;</span> <span class="token comment">// Любое название для идентификации конкретной интеграции</span>
const iframeConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Конфигурация описана разделе "Конфигурация IframeIntegrationConfig"</span>
const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>iframe<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>MAIN_INTEGRATION_NAME<span class="token punctuation">,</span> iframeConfig<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Создание интеграции</span>
</code></pre>
<p>На этом этапе создается объект интеграции iframe, форма оплаты отражена не будет. Интеграция не привязана ни к какому контейнеру.
Такой подход позволяет использовать несколько разных интеграций одновременно.</p>
<ol start="3">
<li>Смонтируйте интеграцию:</li>
</ol>
<pre><code>const container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получаем элемент, в который хотите встроить платежную форму</span>
const res <span class="token operator">=</span> await integration<span class="token punctuation">.</span>helpers<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span><span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span> <span class="token comment">// Инициируем платеж или получение paymentUrl из вашего backend-сервиса</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> res<span class="token punctuation">.</span>paymentUrl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Монтируем интеграцию в контейнер</span>
</code></pre>
<blockquote>
<p>Особенности использования метода <a href="https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init">Инициировать платеж</a>:</p>
<ul>
<li>Не используйте вызов метода с передачей суммы в теле запроса из frontend-приложения. Всегда используйте свой backend-сервис. Если backend-сервиса нет, рекомендуем использовать наш <a href="https://www.tbank.ru/business/website-builder/">Конструктор сайтов</a></li>
</ul>
</blockquote>
</details>

<p>Оба способа поддерживают настройку платежной формы в iframe:</p>
<ol>
<li>Получите объект iframe-интеграции:</li>
</ol>
<pre><code>const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>iframe<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'main-integration-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получение интеграции. При использовании метода "Из глобальной конфигурации" присваивается имя "main-integration"</span>
</code></pre>
<ol start="2">
<li>Используйте необходимые методы для передачи настроек:</li>
</ol>
<details><summary><b>Смена языка</b></summary>

<pre><code>await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">setLang</span><span class="token punctuation">(</span>LANG<span class="token punctuation">)</span> <span class="token comment">// LANG = 'ru' | 'en'</span>
</code></pre>
</details>

<details><summary><b>Смена темы</b></summary>

<p>Если метод setTheme не вызван, тема будет изменяться автоматически в соответствии с системной</p>
<pre><code>await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">setTheme</span><span class="token punctuation">(</span>THEME<span class="token punctuation">)</span> <span class="token comment">// THEME = 'dark' | 'light'</span>
</code></pre>
</details>

<details><summary><b>Удаление интеграции</b></summary>

<pre><code>await integration<span class="token punctuation">.</span>iframe<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>MAIN_INTEGRATION_NAME<span class="token punctuation">)</span>
<span class="token comment">// или</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</details>

<h3 id="конфигурация-iframeintegrationconfig">Конфигурация IframeIntegrationConfig</h3>
<details><summary><b>Интерфейс конфигурации IframeIntegrationConfig</b></summary>

<pre><code>export interface <span class="token class-name">IframeIntegrationConfig</span> <span class="token punctuation">{</span>
  router<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Вызывается в момент получения события на открытие deepLink
     * Стандартное значение: (url) => {window.location.href = url}
     * @param url
     */</span>
    deepLinkRedirectCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>url<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Вызывается в момент получения события на открытие массива deepLink.
     * Требуется для перебора разных приложений, например, для sberpay
     * Стандартное значение: (links) => {
     *   window.open(
     *       `URL?links=${encodeURIComponent(JSON.stringify(links))}`,
     *       '_blank',
     *     );
     * }
     * URL - url скрипта перебора deepLink
     * @param url
     */</span>
    deepLinksRedirectCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>links<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Вызывается в момент получения события на редирект
     * Стандартное значение: (url) => {window.location.href = url}
     * @param url
     */</span>
    redirectCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>url<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  language<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Вызывается в момент изменения языка из платежной формы
     * @param status
     */</span>
    changedCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>lang<span class="token punctuation">:</span> IntegrationLang<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  status<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Вызывается в момент изменения статуса платежа
     * @param status
     */</span>
    changedCallback<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>status<span class="token punctuation">:</span> PaymentIntegrationStatus<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Promise<span class="token operator">&lt;</span>void<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code>export type PaymentIntegrationStatus <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token string">'CANCELED'</span>
  <span class="token operator">|</span> <span class="token string">'EXPIRED'</span>
  <span class="token operator">|</span> <span class="token string">'NEW'</span>
  <span class="token operator">|</span> <span class="token string">'PROCESSING_ERROR'</span>
  <span class="token operator">|</span> <span class="token string">'PROCESSING'</span>
  <span class="token operator">|</span> <span class="token string">'REFUNDED'</span>
  <span class="token operator">|</span> <span class="token string">'REJECTED'</span>
  <span class="token operator">|</span> <span class="token string">'SUCCESS'</span><span class="token punctuation">;</span>
</code></pre>
</details>

<h3 id="платежная-форма-во-вложенном-iframe">Платежная форма во вложенном iframe</h3>
<details><summary><b>Интеграция платежной формы во вложенном iframe</b></summary>

<p>Бывают случаи, когда приложение используется внутри iframe, который находится внутри другого iframe.
Для работы виджета, нужно встроить скрипт и инициализировать его во всех вложенных iframe:</p>
<ol>
<li>Встройте и инициализируйте скрипт в основную (родительскую страницу):</li>
</ol>
<pre><code><span class="token operator">&lt;</span>iframe id<span class="token operator">=</span><span class="token string">"payment-form-iframe"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe
</code></pre>
<pre><code><span class="token comment">// Загрузка и инициализация скрипта (js код)</span>
await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'payment-form-iframe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<ol start="2">
<li>Встройте и инициализируйте скрипт во вложенных iframe.
В конечном вложенном iframe, подключение виджета аналогично инструкции в разделе &quot;Открытие платежной формы в iframe&quot;.
Каждый «промежуточный» скрипт будет перенаправлять сообщения в следующий iframe.</li>
</ol>
<pre><code><span class="token operator">&lt;</span>iframe id<span class="token operator">=</span><span class="token string">"payment-form-iframe"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">></span>
</code></pre>
<pre><code><span class="token comment">// Загрузка и инициализация скрипта (js rjl)</span>
await innerPaymentIntegration<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'payment-form-iframe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Если iframe создан</span>
</code></pre>
</details></div></div></div><div id="section/Primery-polnoj-konfiguracii" data-section-id="section/Primery-polnoj-konfiguracii" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-jXbVAB GlPEY"><a class="sc-jlZhRR buKOug" href="#section/Primery-polnoj-konfiguracii" aria-label="section/Primery-polnoj-konfiguracii"></a>Примеры полной конфигурации</h2></div></div></div><div id="section/Primery-polnoj-konfiguracii/Vidzhet-s-knopkami-oplaty-(integration.payments)" data-section-id="section/Primery-polnoj-konfiguracii/Vidzhet-s-knopkami-oplaty-(integration.payments)" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-dhKdPU feCDFB"><a class="sc-jlZhRR buKOug" href="#section/Primery-polnoj-konfiguracii/Vidzhet-s-knopkami-oplaty-(integration.payments)" aria-label="section/Primery-polnoj-konfiguracii/Vidzhet-s-knopkami-oplaty-(integration.payments)"></a>Виджет с кнопками оплаты (integration.payments)</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;details&gt;&lt;summary&gt;&lt;b&gt;Все доступные способы оплаты&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;paymentContainer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет эквайринге и вернет PaymentURL
   * @type {string}
   */&lt;/span&gt;
  const URL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;https://Init&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */&lt;/span&gt;
  const INIT_PARAMS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    get &lt;span class=&quot;token function&quot;&gt;OrderId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; `$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;`&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Случайное число, используется для примера&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script
  async
  onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt;
  src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;               
        paymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Helpers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PaymentURL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Ручной, с включенными tpay, sbp и mirpay&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;paymentContainer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
   * @type {string}
   */&lt;/span&gt;
  const URL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;https://Init&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */&lt;/span&gt;
  const INIT_PARAMS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    get &lt;span class=&quot;token function&quot;&gt;OrderId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; `$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;`&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Случайное число, используется для примера&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script
  async
  onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt;
  src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;integration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        const MAIN_INTEGRATION_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Любое название для идентификации конкретной интеграции&lt;/span&gt;
        const MAIN_INTEGRATION_CONFIG &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Конфигурация описана в разделе &quot;Конфигурации PaymentIntegrationConfig&quot;&lt;/span&gt;
        const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          MAIN_INTEGRATION_CONFIG&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Создание интеграции&lt;/span&gt;
  
        const container &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Получите элемент, в который хотите встроить виджет&lt;/span&gt;
        await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Монтируем интеграцию в контейнер&lt;/span&gt;
  
        await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;payments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setPaymentStartCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Helpers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;paymentUrl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
        const widgetTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;mirpay&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;sbp&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;tpay&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Доступные методы оплаты&lt;/span&gt;
        await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateWidgetTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;widgetTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Передаем нужные методы оплаты в интеграцию&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;"><details><summary><b>Все доступные способы оплаты</b></summary>

<pre><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"paymentContainer"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token comment">/**
   * URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет эквайринге и вернет PaymentURL
   * @type {string}
   */</span>
  const URL <span class="token operator">=</span> <span class="token string">'https://Init'</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */</span>
  const INIT_PARAMS <span class="token operator">=</span> <span class="token punctuation">{</span>
    get <span class="token function">OrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> `$<span class="token punctuation">{</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>$<span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">;</span> <span class="token comment">// Случайное число, используется для примера</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script
  async
  onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span>
  src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span>
<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      payment<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               
        paymentStartCallback<span class="token punctuation">:</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          const res <span class="token operator">=</span> await <span class="token keyword">new</span> <span class="token class-name">PaymentIntegration<span class="token punctuation">.</span>Helpers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> res<span class="token punctuation">.</span>PaymentURL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Ручной, с включенными tpay, sbp и mirpay</b></summary>

<pre><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"paymentContainer"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token comment">/**
   * URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
   * @type {string}
   */</span>
  const URL <span class="token operator">=</span> <span class="token string">'https://Init'</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */</span>
  const INIT_PARAMS <span class="token operator">=</span> <span class="token punctuation">{</span>
    get <span class="token function">OrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> `$<span class="token punctuation">{</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>$<span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">;</span> <span class="token comment">// Случайное число, используется для примера</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script
  async
  onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span>
  src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span>
<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      payment<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span>integration<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        const MAIN_INTEGRATION_NAME <span class="token operator">=</span> <span class="token string">'main-integration-name'</span><span class="token punctuation">;</span> <span class="token comment">// Любое название для идентификации конкретной интеграции</span>
        const MAIN_INTEGRATION_CONFIG <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Конфигурация описана в разделе "Конфигурации PaymentIntegrationConfig"</span>
        const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
          MAIN_INTEGRATION_NAME<span class="token punctuation">,</span>
          MAIN_INTEGRATION_CONFIG<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Создание интеграции</span>
  
        const container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Получите элемент, в который хотите встроить виджет</span>
        await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Монтируем интеграцию в контейнер</span>
  
        await integration<span class="token punctuation">.</span>payments<span class="token punctuation">.</span><span class="token function">setPaymentStartCallback</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          const res <span class="token operator">=</span> await <span class="token keyword">new</span> <span class="token class-name">PaymentIntegration<span class="token punctuation">.</span>Helpers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
          <span class="token keyword">return</span> res<span class="token punctuation">.</span>paymentUrl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        const widgetTypes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'mirpay'</span><span class="token punctuation">,</span> <span class="token string">'sbp'</span><span class="token punctuation">,</span> <span class="token string">'tpay'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Доступные методы оплаты</span>
        await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">updateWidgetTypes</span><span class="token punctuation">(</span>widgetTypes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Передаем нужные методы оплаты в интеграцию</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details></div></div></div><div id="section/Primery-polnoj-konfiguracii/Platezhnaya-forma-v-iframe" data-section-id="section/Primery-polnoj-konfiguracii/Platezhnaya-forma-v-iframe" class="sc-dcJtft yiBKn"><div class="sc-kAycRU cYhWoc"><div class="sc-fqkwJk hbcZxn"><h2 class="sc-dhKdPU feCDFB"><a class="sc-jlZhRR buKOug" href="#section/Primery-polnoj-konfiguracii/Platezhnaya-forma-v-iframe" aria-label="section/Primery-polnoj-konfiguracii/Platezhnaya-forma-v-iframe"></a>Платежная форма в iframe</h2></div></div><div class="sc-fqkwJk loXOCR"><div class="sc-eeDSqt sc-eBMFzZ bSgSrX doDVKT redoc-markdown " html="&lt;details&gt;&lt;summary&gt;&lt;b&gt;Из глобальной конфигурации&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;paymentContainer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
   * @type {string}
   */&lt;/span&gt;
  const URL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;https://Init&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */&lt;/span&gt;
  const INIT_PARAMS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    get &lt;span class=&quot;token function&quot;&gt;OrderId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; `$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;`&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Случайное число, используется для примера&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script
  async
  onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt;
  src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;          
        paymentStartCallback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Helpers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PaymentURL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Динамически&lt;/b&gt;&lt;/summary&gt;

&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;paymentContainer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * URL - это url вашего backend-сервиса, который вызовет метод &quot;Инициировать платеж&quot; в интернет-эквайринге и вернет PaymentURL
   * @type {string}
   */&lt;/span&gt;
  const URL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;https://Init&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */&lt;/span&gt;
  const INIT_PARAMS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    get &lt;span class=&quot;token function&quot;&gt;OrderId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; `$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;`&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Случайное число, используется для примера&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    TerminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Amount&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Description&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;test payment&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script
  async
  onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt;
  src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;integration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        const MAIN_INTEGRATION_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        const iframeConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iframeConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
        const container &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;paymentContainer&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
        const res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;helpers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;URL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;POST&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; INIT_PARAMS&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
        await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PaymentURL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;

&lt;details&gt;&lt;summary&gt;&lt;b&gt;Платежная форма во вложенном iframe&lt;/b&gt;&lt;/summary&gt;

&lt;ol&gt;
&lt;li&gt;Добавьте и инициализируйте скрипт на основном сайте:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;iframe id&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;first-iframe&quot;&lt;/span&gt; src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://IFRAME_FIRST_URL&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script
  async
  onload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onPaymentIntegrationLoad()&quot;&lt;/span&gt;
  src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://acq-paymentform-integrationjs.t-static.ru/integration.js&quot;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  const initConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Значение terminalKey из личного кабинета
     */&lt;/span&gt;
    terminalKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;myTerminalKey&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    product&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;eacq&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    features&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      iframe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPaymentIntegrationLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    PaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;async &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;integration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        const MAIN_INTEGRATION_NAME &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#x27;main-integration-name&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        const iframeConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        const mainPaymentIntegration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; await integration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MAIN_INTEGRATION_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iframeConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
        const iframe &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&#x27;first-iframe&#x27;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
        await mainPaymentIntegration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;Подключите для вложенного iframe скрипт по инструкции в разделе &amp;quot;Открытие платежной формы в iframe&amp;quot;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/details&gt;"><details><summary><b>Из глобальной конфигурации</b></summary>

<pre><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"paymentContainer"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token comment">/**
   * URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
   * @type {string}
   */</span>
  const URL <span class="token operator">=</span> <span class="token string">'https://Init'</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */</span>
  const INIT_PARAMS <span class="token operator">=</span> <span class="token punctuation">{</span>
    get <span class="token function">OrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> `$<span class="token punctuation">{</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>$<span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">;</span> <span class="token comment">// Случайное число, используется для примера</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script
  async
  onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span>
  src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span>
<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          
        paymentStartCallback<span class="token punctuation">:</span> async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          const res <span class="token operator">=</span> await <span class="token keyword">new</span> <span class="token class-name">PaymentIntegration<span class="token punctuation">.</span>Helpers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> res<span class="token punctuation">.</span>PaymentURL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Динамически</b></summary>

<pre><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"paymentContainer"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token comment">/**
   * URL - это url вашего backend-сервиса, который вызовет метод "Инициировать платеж" в интернет-эквайринге и вернет PaymentURL
   * @type {string}
   */</span>
  const URL <span class="token operator">=</span> <span class="token string">'https://Init'</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис
   * @type object
   */</span>
  const INIT_PARAMS <span class="token operator">=</span> <span class="token punctuation">{</span>
    get <span class="token function">OrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> `$<span class="token punctuation">{</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>$<span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">;</span> <span class="token comment">// Случайное число, используется для примера</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    TerminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    Amount<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">'test payment'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script
  async
  onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span>
  src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span>
<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span>integration<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        const MAIN_INTEGRATION_NAME <span class="token operator">=</span> <span class="token string">'main-integration-name'</span><span class="token punctuation">;</span>
        const iframeConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>iframe<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>MAIN_INTEGRATION_NAME<span class="token punctuation">,</span> iframeConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        const container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'paymentContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        const res <span class="token operator">=</span> await integration<span class="token punctuation">.</span>helpers<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> INIT_PARAMS<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> res<span class="token punctuation">.</span>PaymentURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
</details>

<details><summary><b>Платежная форма во вложенном iframe</b></summary>

<ol>
<li>Добавьте и инициализируйте скрипт на основном сайте:</li>
</ol>
<pre><code><span class="token operator">&lt;</span>iframe id<span class="token operator">=</span><span class="token string">"first-iframe"</span> src<span class="token operator">=</span><span class="token string">"https://IFRAME_FIRST_URL"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>script
  async
  onload<span class="token operator">=</span><span class="token string">"onPaymentIntegrationLoad()"</span>
  src<span class="token operator">=</span><span class="token string">"https://acq-paymentform-integrationjs.t-static.ru/integration.js"</span>
<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  const initConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Значение terminalKey из личного кабинета
     */</span>
    terminalKey<span class="token punctuation">:</span> <span class="token string">'myTerminalKey'</span><span class="token punctuation">,</span>
    product<span class="token punctuation">:</span> <span class="token string">'eacq'</span><span class="token punctuation">,</span>
    features<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      iframe<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">onPaymentIntegrationLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PaymentIntegration<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>async <span class="token punctuation">(</span>integration<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        const MAIN_INTEGRATION_NAME <span class="token operator">=</span> <span class="token string">'main-integration-name'</span><span class="token punctuation">;</span>
        const iframeConfig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        const mainPaymentIntegration <span class="token operator">=</span> await integration<span class="token punctuation">.</span>iframe<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>MAIN_INTEGRATION_NAME<span class="token punctuation">,</span> iframeConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        const iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'first-iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
        await mainPaymentIntegration<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<ol start="2">
<li>Подключите для вложенного iframe скрипт по инструкции в разделе &quot;Открытие платежной формы в iframe&quot;.</li>
</ol>
</details></div></div></div></div><div class="sc-eulNPF btTIPc"></div></div></div>
      <script>
      const __redoc_state = {"menu":{"activeItemIdx":-1},"spec":{"data":{"openapi":"3.0.2","info":{"title":"ИНСТРУКЦИЯ ПО НАСТРОЙКЕ СКРИПТА ИНТЕГРАЦИИ ДЛЯ ПРИЕМА ПЛАТЕЖЕЙ","version":"1.0","x-logo":{"url":"/kassa/dev/assets/img/logo.svg"},"description":"# История изменений\n| **Описание изменений** | **Дата** |\n| ------ | -------- |\n| Создан документ | 23.04.2025 |\n\n\n# Введение\nIntegration.js — это способ интеграции методов оплат в приложения мерчанта.\n\nСкрипт позволяет добавить на сайт виджет с кнопками оплаты и открывать платежную форму в iframe, модальном или отдельном окнах.\n\n# Требования к подключению\nЧтобы использовать скрипты интеграции для виджета должны быть выполнены следующие требования:\n\n1. Cайт должен работать по протоколу HTTPS.\n2. На сайте должны отсутствовать заголовки:\n   ```\n   Cross-Origin-Opener-Policy: *\n   ```\n3. Политики CSP на сайте должны разрешать использовать:\n   ```\n   script-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru\n   frame-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru\n   img-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru\n   connect-src: https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru\n   style-src: 'unsafe-inline' https://*.tinkoff.ru https://*.tcsbank.ru https://*.tbank.ru https://*.nspk.ru https://*.t-static.ru\n   ```\n\n# Поддерживаемые версии браузеров\n* Chrome >= 63;\n* Edge >= 19;\n* Safari >= 11;\n* Firefox >= 67;\n* Opera >= 50;\n* IE - не поддерживается;\n* Samsung Internet >= 8.2;\n* Opera Mobile >= 73.\n\n# Подготовка к использованию\nПосле подключения интернет-эквайринга зайдите в личный кабинет и выберите раздел «Магазины». Во вкладке «Терминалы» будет указан публичный ключ терминала — TerminalKey.\n\n[![Где найти номер терминал в ЛК](https://cdn.tbank.ru/static/documents/terminal_key_pf.png)](https://cdn.tbank.ru/static/documents/terminal_key_pf.png)\n\nЧтобы настроить терминал, нужно выбрать тип подключения «Универсальный» и на вкладке «Способы оплаты» включить нужные способы оплаты.\n\nЕсли вы подключаете платежную форму от Т-Банка:\n1. Зайдите в личный кабинет интернет эквайринга → «Магазины».\n2. Выберите ваш магазин → «Способы оплаты» → Выберите нужный способ оплаты → «Платежная форма Т-Банка» → «Включить».\n\nЕсли вы хотите настроить отдельную кнопку быстрой оплаты с помощью виджета:\n1. Зайдите в личный кабинет интернет эквайринга → «Магазины».\n2. Выберите ваш магазин → «Способы оплаты» → Выберите нужный способ оплаты → «Настроить» → «Своя платежная форма» → «Включить».\n\n# Подключение скрипта интеграции\n> Скрипт размещен по адресу https://acq-paymentform-integrationjs.t-static.ru/integration.js\nПолностью копировать скрипт в свою сборку не нужно. Рекомендуем всегда загружать скрипт из предоставленного URL. \nЭто позволит всегда использовать актуальную версию скрипта, включая все исправления и обновления безопасности.\n\n\n1. Установите HTML-код на всех нужных страницах перед закрывающим тегом </body>. \nПередайте в атрибут `onload` название метода, который будет отвечать за инициализацию и обработку платежей:\n\n```\n<script src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\" onload=\"onPaymentIntegrationLoad()\" async><\/script>\n```\n\nПроведите инициализацию скрипта:\n\n```\n<script>\n  const initConfig = { // IntegrationInitConfig интерфейс, описан в разделе \"Интерфейс глобальной конфигурации\"\n    ...\n  }    \n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig).then().catch();\n  }\n<\/script>\n```\n\n<details><summary><b>Альтернативные способы инициализации</b></summary>\nМожно использовать любой из способов подключения: \n\n<details><summary><b>Простой</b></summary>\n\n```\n<script src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\" onload=\"onPaymentIntegrationLoad()\" async><\/script>\n<script>\n  const initConfig = { // IntegrationInitConfig интерфейс, описан в разделе \"Интерфейс глобальной конфигурации\"\n    ...\n  }\n  \n  function onPaymentIntegrationLoad() {\n     PaymentIntegration.init(initConfig)\n       .then(async (integration) => {\n         // Место для кода взаимодействия с объектом integration\n       }\n     ).catch();\n  }\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Синхронный</b></summary>\n\n```\n<script src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"><\/script>\n<script>\n  async function initPayment() {\n    const integration = await PaymentIntegration.init(initConfig); // initConfig - экземпляр интерфейса IntegrationInitConfig, описан в разделе \"Интерфейс глобальной конфигурации\"\n    // Место для кода взаимодействия с объектом integration\n  }\n \n  initPayment().then().catch();\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Динамический</b></summary>\n\n```\n<script>\n  async function loadJs(url) {\n    return new Promise((resolve, reject) => {\n      const element = document.createElement('script');\n \n      element.src = url;\n      element.type = 'text/javascript';\n      element.async = true;\n      element.onload = () => resolve();\n      element.onerror = () => reject();\n      document.body.appendChild(element);\n    });\n  }\n \n  async function initPayment() {\n    await loadJs('https://acq-paymentform-integrationjs.t-static.ru/integration.js');\n \n    const integration = await PaymentIntegration.init(initConfig); // initConfig - экземпляр интерфейса IntegrationInitConfig, описан в разделе \"Интерфейс глобальной конфигурации\"\n    //  Место для кода взаимодействия с объектом integration\n  }\n \n  initPayment().then().catch();\n<\/script>\n```\n\n</details>\n\n</details>\n\n2. Настройте нужную конфигурацию скрипта.\nИспользуйте только те ключи объекта features (модули), которые вам нужны:\n\n```\n<script> \n  const initConfig = {\n    terminalKey: 'myTerminalKey', // <-- Значение terminalKey из личного кабинета\n    product: 'eacq',\n    features: {\n       payment: {}, // <-- Добавьте, если нужны кнопки оплаты\n       iframe: {} // <-- Добавьте, если нужно встроить платежную форму в iframe\n       addcardIframe: {} // <-- Добавьте, если нужно встроить приложение привязки карты в iframe\n    }\n  }\n<\/script>\n```\n\n<details><summary><b>Интерфейс глобальной конфигурации</b></summary>\n\n```\nexport interface IntegrationInitConfig {\n  /**\n   * Значение terminalKey из личного кабинета\n   */\n  terminalKey: string;\n  /**\n   * Продукт, для интернет-эквайринга значение 'eacq'\n   */\n  product: 'eacq';\n  features:  {   \n    /**\n    * При включении iframe ключа в конфигурацию будет загружен модуль работы с iframe для приложения привязки карты\n    */\n    addcardIframe?: {\n      /**\n       * Если используется параметр container, скрипт встроит iframe в этот элемент\n       * На странице должен существовать элемент с id=\"paymentContainer\"\n       */\n      container?: HTMLElement | null;\n      /**\n       * Возможность переопределить стандартное поведение виджета\n       */\n      config?: IframeIntegrationConfig; // Интерфейс описан в разделе \"Конфигурация IframeIntegrationConfig\" \n      /**\n       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)\n       *\n       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId\n       * backend-сервис находит необходимые для запроса метода \"Инициировать платеж\" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init\n       * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback\n       *\n       * Например:\n       * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n       * return res.PaymentURL;\n       *\n       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на бекенд\n       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n       *\n       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем\n       * @returns {Promise<string>}\n       */      \n      paymentStartCallback?: PaymentStartCallback;\n    };\n    /**\n     * При включении iframe ключа в конфигурацию будет загружен модуль работы с iframe\n     */\n    iframe?: {\n      /**\n       * Если используется параметр container, скрипт встроит iframe в этот элемент\n       * На странице должен существовать элемент с id=\"paymentContainer\"\n       */\n      container?: HTMLElement | null;\n      /**\n       * Возможность переопределить стандартное поведение виджета\n       */\n      config?: IframeIntegrationConfig; // Интерфейс описан в разделе \"Конфигурация IframeIntegrationConfig\"\n      /**\n       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)\n       *\n       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId\n       * backend-сервис находит необходимые для запроса метода \"Инициировать платеж\" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init\n       * `PaymentUrl` из v2/Init должен быть возвращен во frontend в paymentStartCallback\n       *\n       * Например:\n       * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n       * return res.PaymentURL;\n       *\n       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend\n       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n       *\n       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем\n       * @returns {Promise<string>}\n       */           \n      paymentStartCallback?: PaymentStartCallback;\n    };\n    /**\n     * При включении payment ключа в конфигурацию будет загружен модуль работы с виджетами оплаты\n     */\n    payment?: {\n      /**\n       * Если используется параметр container, скрипт встроит все доступные терминалу методы оплаты в этот элемент\n       * На странице должен существовать элемент с id=\"paymentContainer\"\n       */\n      container?: HTMLElement | null;\n      /**\n       * Возможность переопределить стандартное поведение виджета\n       */\n      config?: PaymentIntegrationConfig; // Интерфейс описан в разделе \"Конфигурация PaymentIntegrationConfig\"\n      /**\n       * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)\n       *\n       * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId\n       * backend-сервис находит необходимые для запроса метода \"Инициировать платеж\" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init\n       * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback\n       *\n       * Например:\n       * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n       * return res.PaymentURL;\n       *\n       * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend\n       * В данном примере URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n       *\n       * @param {OverlayType} paymentType - способ оплаты выбранный пользователем\n       * @returns {Promise<string>}\n       */  \n      paymentStartCallback?: PaymentStartCallback;\n    };\n  };\n}\n```\n\n</details>\n\n<details><summary><b>Пример конфигурации для кнопок оплаты</b></summary>\n\n```\n<script>\n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      payment: {\n        /**\n         * Если используется параметр container, скрипт встроит все доступные терминалу методы оплаты в этот элемент\n         * На странице должен существовать элемент с id=\"paymentContainer\"\n         */\n        container: document.getElementById('paymentContainer'),\n        /**\n         * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)\n         *\n         * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId\n         * backend-сервис находит необходимые для запроса метода \"Инициировать платеж\" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init\n         * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback\n         *\n         * Например:\n         * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n         * return res.PaymentURL;\n         *\n         * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на бекенд\n         * В данном примере URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n         *\n         * @param {OverlayType} paymentType - способ оплаты выбранный пользователем\n         * @returns {Promise<string>}\n         */\n        paymentStartCallback: async () => {\n          const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS); // <-- URL это url вашего backend, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге\n          return res.PaymentURL;\n        },\n      },\n    },\n  };\n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig).then().catch();\n  }\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Пример конфигурации для платежной формы в iframe</b></summary>\n\n```\n<script> \n  const initConfig = {\n    terminalKey: 'myTerminalKey', // <-- Значение terminalKey из личного кабинета\n    product: 'eacq',\n    features: {\n       iframe: { // <-- Добавьте, если нужно встроить платежную форму в iframe\n          container: document.getElementById('paymentContainer'), // <-- На странице должен существовать элемент с id=\"paymentContainer\"\n          paymentStartCallback: async () => {     \n            const res = await integration.helpers.init(URL, 'POST', {}); // <-- URL это url вашего backend, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге\n            return res.paymentUrl;\n          }        \n       }\n    }\n  }\n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig).then().catch();\n  }\n<\/script>\n```\n\n</details>\n\n# Модули\n\n## Кнопки быстрой оплаты\n\nПоддерживаемые виджеты оплаты (WidgetType):\n* sbp — кнопка оплаты через СБП;\n* tpay — кнопка оплаты через T-Pay;\n* bnpl — кнопка оплаты Долями;\n* sberpay — кнопка оплаты через SberPay. Не отображается в WebView;\n* mirpay — кнопка оплаты через MirPay. Отображается только для устройств на ОС Android.\n\nЕсть два способа интеграции виджета:\n\n* Все доступные методы оплаты — добавляет все включенные в личном кабинете способы оплаты в указанный контейнер (в примере paymentContainer);\n* Ручной — позволяет добавлять разные методы оплаты в разные контейнеры.\n\nОба способа поддерживают установку и переопределение конфигураций.\n\n<details><summary><b>Все доступные методы оплаты</b></summary>\n\n<details><summary><b>Из глобальной конфигурации</b></summary>\nИспользуйте скрипт из глобальной конфигурации:\n\n```\n<script> \n  const initConfig = {\n    terminalKey: 'myTerminalKey', // <-- Значение terminalKey из личного кабинета\n    product: 'eacq',\n    features: {\n       payment: { // <-- Добавляем, если нужны кнопки оплаты\n          container: document.getElementById('paymentContainer'), // <-- На странице должен существовать элемент с id=\"paymentContainer\"\n          paymentStartCallback: async (paymentType) => { // <-- paymentType может использоваться для сбора аналитики         \n            const res = await integration.helpers.init(URL, 'POST', {}); // <-- URL это url вашего backend, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге\n            return res.paymentUrl;\n          },\n          config: {} // <-- Возможность переопределить поведение виджета (интерфейс PaymentIntegrationConfig,  описан в разделе \"Конфигурация PaymentIntegrationConfig\")\n       }\n    }\n  }\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Динамически</b></summary>\n\n1. Используйте скрипт из глобальной конфигурации:\n\n```\n<script> \n  const initConfig = {\n    terminalKey: 'myTerminalKey', // <-- Значение terminalKey из личного кабинета\n    product: 'eacq',\n    features: {\n       payment: {}\n    }\n  }\n<\/script>\n```\n\n2. Создайте и соберите скрипт платежной интеграции со всеми возможными способами оплат:\n\n```\nconst container = document.getElementById('paymentContainer'); // Получите элемент, в который хотите встроить виджет\nconst MAIN_INTEGRATION_CONFIG = {}; // Конфигурация описана в разделе \"Конфигурация PaymentIntegrationConfig\"\nconst mainPaymentIntegration = await integration.payments.mountAllAvailable(container, MAIN_INTEGRATION_CONFIG); // Создание интеграции\n```\n\n</details>\n\n</details>\n\n<details><summary><b>Ручной</b></summary>\n\n1. Используйте скрипт из глобальной конфигурации:\n\n```\n<script> \n  const initConfig = {\n    terminalKey: 'myTerminalKey', // <-- Значение terminalKey из личного кабинета\n    product: 'eacq',\n    features: {\n       payment: {}\n    }\n  }\n<\/script>\n```\n\n2. Создайте экземпляр платежной интеграции (блок с кнопками оплаты):\n\n```\nconst MAIN_INTEGRATION_NAME = 'main-integration-name'; // Любое название для идентификации конкретной интеграции\nconst MAIN_INTEGRATION_CONFIG = {}; // Конфигурация описана в разделе \"Конфигурация PaymentIntegrationConfig\"\nconst mainPaymentIntegration = await integration.payments.create(MAIN_INTEGRATION_NAME, MAIN_INTEGRATION_CONFIG); // Создание интеграции\n```\n\nНа этом этапе создается объект интеграции кнопок оплаты, сами способы оплаты не отображаются. Интеграция не привязана ни к какому контейнеру.\nТакой подход позволяет использовать несколько разных интеграций со своими методами оплаты одновременно.\n\n<details><summary><b>Получение объекта платежной интеграции после смены контекста выполнения</b></summary>\n\n```\nconst mainPaymentIntegration = await integration.payments.get('main-integration-name'); // Получение интеграции\n```\n\n</details>\n\n3. Смонтируйте интеграцию:\n\n```\nconst container = document.getElementById('paymentContainer'); // Получите элемент, в который хотите встроить виджет\nawait mainPaymentIntegration.mount(container); // Монтируем интеграцию в контейнер\n```\n\n4. Отобразите кнопки платежных методов.\nНа этом этапе определяется, какие методы оплаты будут отображены в контейнере. Предварительно следует включить нужные методы оплаты в личном кабинете:\n\n```\nconst widgetTypes = ['tpay']; // Доступные методы оплаты указаны в начале раздела \"Кнопки быстрой оплаты\"\nawait mainPaymentIntegration.updateWidgetTypes(widgetTypes); // Передаем нужные методы оплаты в интеграцию\n```\n\n>Скрипт определяет, включены ли способы оплаты в личном кабинете:\n>* если нужные способы оплаты отключены в личном кабинете — измените updateWidgetTypes;\n>* если способ оплаты отключен в личном кабинете, но не выключен в скрипте — способ оплаты будет пропущен.\n\n5. Установка PaymentStartCallback.\nПереданная callback-функция срабатывает каждый раз, когда пользователь нажимает кнопку оплаты на платежной форме.\nПри нажатии подразумевается вызов метода [Инициировать платеж](https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init).\nФункция требует возврата string с `PaymentUrl` (например https://securepayments.tinkoff.ru/uuid). \n\n```\n<script>\n  const initConfig = { // IntegrationInitConfig интерфейс, описан в разделе \"Интерфейс глобальной конфигурации\"\n    ...\n  }\n  \n  function onPaymentIntegrationLoad() {\n     PaymentIntegration.init(initConfig)\n       .then(async (integration) => {\n  \n         /*\n           Переданный callback сработает каждый раз при нажатии на кнопку оплаты\n         */\n         await integration.payments.setPaymentStartCallback(async () => {              \n           /**\n            * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)\n            *\n            * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId\n            * backend-сервис находит необходимые для запроса метода \"Инициировать платеж\" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init\n            * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback\n            *\n            * Например:\n            * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n            * return res.PaymentURL;\n            *\n            * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend\n            * В данном примере URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n            *\n            * @param {OverlayType} paymentType - способ оплаты выбранный пользователем\n            * @returns {Promise<string>}\n            */\n           const res = await integration.helpers.init(URL, 'POST', {}); // <-- URL это url вашего backend, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге\n   \n           return res.paymentUrl;\n         });\n       }\n     ).catch();\n  }\n<\/script>\n```\n\n>Особенности использования метода [Инициировать платеж](https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init):\n>* Не используйте вызов метода с передачей суммы в теле запроса из frontend-приложения. Всегда используйте свой backend-сервис. Если backend-сервиса нет, рекомендуем использовать наш [Конструктор сайтов](https://www.tbank.ru/business/website-builder/).\n>* Обязательно передавайте `connection_type` = `Widget` в объекте DATA. В ином случае корректная работа виджета не гарантирована.\n\n</details>\n\nОба способа поддерживают настройку виджета:\n\n1. Получите объект платежной интеграции:\n\n```\nconst mainPaymentIntegration = await integration.payments.get('main-integration'); // Получение интеграции. При интеграции \"Все доступные способы оплаты\" присваивается имя \"main-integration\"\n```\n\n2. Используйте нужные методы для передачи настроек:\n\n<details><summary><b>Настройка отображения кнопок платежных методов</b></summary>\n\n```\nconst displayParams = {\n  gap: 0.375, // Расстояние между кнопками в rem\n  hight: 3.5, // Высота кнопки в rem\n  radius: 0.75, // Закругление кнопки в rem\n  theme: {\n    default: 'accent',\n  }\n}\nawait mainPaymentIntegration.updateDisplayParams(displayParams); // Передаем нужные методы оплаты в инстанс интеграции\n\n```\n<details><summary><b>Интерфейс метода displayParams</b></summary>\n\n```\nexport interface WidgetDisplayParams {\n  gap?: number;\n  height?: number;\n  radius?: number;\n  theme?: {\n    default?: ButtonTheme;\n    tpay?: ButtonThemeTpay;\n    mirpay?: ButtonTheme;\n    sbp?: ButtonTheme;\n    bnpl?: ButtonTheme;\n    sberpay?: ButtonTheme;\n  };\n}\n \nexport type ButtonTheme = 'accent' | 'filled' | 'outlined';\nexport type ButtonThemeTpay = 'accent' | 'accent-black' | 'filled' | 'outlined';\n```\n\n</details>\n\n</details>\n\n<details><summary><b>Смена языка</b></summary>\n\n```\nawait mainPaymentIntegration.setLang(LANG) // LANG = 'ru' | 'en'\n```\n\n</details>\n\n<details><summary><b>Смена темы</b></summary>\n\nЕсли метод setTheme не вызван, тема будет изменяться автоматически в соответствии с системной\n\n```\nawait mainPaymentIntegration.setTheme(THEME) // THEME = 'dark' | 'light'\n```\n\n</details>\n\n<details><summary><b>Блокировка и разблокировка кнопок</b></summary>\n\nБлокирует кнопки\n\n```\nawait mainPaymentIntegration.lock()\n```\nРазблокирует кнопки\n\n```\nawait mainPaymentIntegration.unlock()\n```\n\n</details>\n\n<details><summary><b>Удаление интеграции</b></summary>\n\n```\nawait integration.payment.remove(MAIN_INTEGRATION_NAME)\n// или\nawait mainPaymentIntegration.unmount()\n```\n\n</details>\n\n### Конфигурация PaymentIntegrationConfig\n<details><summary><b>Интерфейс конфигурации PaymentIntegrationConfig</b></summary>\n\n```\nexport interface PaymentIntegrationConfig {\n  /**\n   * Срабатывает после загрузки кнопок оплаты (перед отображением)\n   * Может быть использован для отображения loader в контейнере\n   */\n  loadedCallback?: () => void;\n  /**\n   * Возможность переопределить значение z-index оверлея\n   */\n  zIndex?: number;\n  scroll?: {\n    /**\n     * Основной элемент страницы с включенным overflow\n     * Используется для блокировки скролла во время отображения оверлея\n     * По умолчанию - document.body\n     */\n    elementForBlocking?: HTMLElement;\n  };\n  router?: {\n    /**\n     * Вызывается в момент получения события на открытие deepLink\n     * Стандартное значение: (url) => {window.location.href = url}\n     * @param url\n     */\n    deepLinkRedirectCallback?: (url: string) => Promise<void>;\n    /**\n     * Вызывается в момент получения события на открытие массива deepLink.\n     * Требуется для перебора разных приложений, например, для sberpay\n     * Стандартное значение: (links) => {\n     *   window.open(\n     *       `URL?links=${encodeURIComponent(JSON.stringify(links))}`,\n     *       '_blank',\n     *     );\n     * }\n     * URL - url скрипта перебора deepLink\n     * @param url\n     */\n    deepLinksRedirectCallback?: (links: string[]) => Promise<void>;\n    /**\n     * Вызывается в момент получения события на редирект\n     * Стандартное значение: (url) => {window.location.href = url}\n     * @param url\n     */\n    redirectCallback?: (url: string) => Promise<void>;\n  };    \n \n  dialog?: {\n    /**\n     * Вызывается в момент получения события exit (оплата отменена пользователем)\n     * Например, при нажатии кнопки «Вернуться в магазин» или закрытии модального окна\n     * @param url\n     */\n    closedCallback?: () => Promise<void>;\n  };\n \n  status?: {\n    /**\n     * Флаг открытия overlay при смене статуса\n     * Если в процессе оплаты диалог оплаты был закрыт, но произошла смена статуса\n     * При значении true флага, откроется диалог и отобразится статус платежа\n     * Стандартное значение: true\n     */\n    openOverlay?: boolean;\n    /**\n     * Вызывается в момент изменения статуса платежа\n     * @param status\n     */\n    changedCallback?: (status: PaymentIntegrationStatus) => Promise<void>;\n  };\n \n  payment?: {\n    /**\n     * Вызывается в момент получения ошибки в paymentStartCallback во время инициализации платежа\n     */\n    failedPaymentStartCallback?: (error: Error) => Promise<void>;\n  };\n \n  alert?: {\n    /**\n     * Используется для показа алертов при ошибках\n     * При отсутствии используются стандартные алерты\n     * @param alert\n     */\n    showAlertCallback?: (alert: AlertInfo) => Promise<void>;\n  };\n }\n```\n\n```\nexport type PaymentIntegrationStatus =\n  | 'CANCELED'\n  | 'EXPIRED'\n  | 'NEW'\n  | 'PROCESSING_ERROR'\n  | 'PROCESSING'\n  | 'REFUNDED'\n  | 'REJECTED'\n  | 'SUCCESS';\n```\n\n</details>\n\n## Открытие платежной формы в iframe\nЕсть два способа открытия в iframe:\n\n<details><summary><b>Из глобальной конфигурации</b></summary>\nИспользуйте скрипт из глобальной конфигурации:\n\n```\n<script>    \n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      iframe: {\n        /**\n         * Если используется параметр container, скрипт встроит iframe в этот элемент\n         * На странице должен существовать элемент с id=\"paymentContainer\"\n         */\n        container: document.getElementById('paymentContainer'),         \n        /**\n         * Функция paymentStartCallback должна возвращать Promise который резолвит ссылку PaymentUrl (ссылка платежной формы)\n         *\n         * В этой функции должен происходить вызов вашего backend-сервиса с передачей туда внутреннего orderId\n         * backend-сервис находит необходимые для запроса метода \"Инициировать платеж\" поля (такие как сумма) внутри вашей системы и отправляет запрос в v2/Init\n         * PaymentUrl из v2/Init должен быть возвращен во frontend в paymentStartCallback\n         *\n         * Например:\n         * const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n         * return res.PaymentURL;\n         *\n         * Переменная PaymentIntegration содержит класс-помощник Helpers c методом request для отправки запросов на backend\n         * В данном примере URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n         *\n         * @param {OverlayType} paymentType - способ оплаты, выбранный пользователем\n         * @returns {Promise<string>}\n         */\n        paymentStartCallback: async () => {\n          const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n          return res.PaymentURL;\n        },\n      },\n    },\n  };\n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig).then().catch();\n  }\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Динамически</b></summary>\n\n1. Используйте скрипт из глобальной конфигурации:\n\n```\n<script> \n  const initConfig = {\n    terminalKey: 'myTerminalKey', // <-- Значение terminalKey из личного кабинета\n    product: 'eacq',\n    features: {\n       iframe: {}\n    }\n  }\n<\/script>\n```\n\n2. Создайте экземпляр iframe интеграции:\n\n```\nconst MAIN_INTEGRATION_NAME = 'main-integration-name'; // Любое название для идентификации конкретной интеграции\nconst iframeConfig = {}; // Конфигурация описана разделе \"Конфигурация IframeIntegrationConfig\"\nconst mainPaymentIntegration = await integration.iframe.create(MAIN_INTEGRATION_NAME, iframeConfig); // Создание интеграции\n```\n\nНа этом этапе создается объект интеграции iframe, форма оплаты отражена не будет. Интеграция не привязана ни к какому контейнеру.\nТакой подход позволяет использовать несколько разных интеграций одновременно.\n\n3. Смонтируйте интеграцию:\n\n```\nconst container = document.getElementById('paymentContainer'); // Получаем элемент, в который хотите встроить платежную форму\nconst res = await integration.helpers.init(URL,'POST', INIT_PARAMS) // Инициируем платеж или получение paymentUrl из вашего backend-сервиса\nawait mainPaymentIntegration.mount(container, res.paymentUrl); // Монтируем интеграцию в контейнер\n```\n>Особенности использования метода [Инициировать платеж](https://www.tbank.ru/kassa/dev/payments/#tag/Standartnyj-platezh/operation/Init):\n>* Не используйте вызов метода с передачей суммы в теле запроса из frontend-приложения. Всегда используйте свой backend-сервис. Если backend-сервиса нет, рекомендуем использовать наш [Конструктор сайтов](https://www.tbank.ru/business/website-builder/)\n\n</details>\n\nОба способа поддерживают настройку платежной формы в iframe:\n\n1. Получите объект iframe-интеграции:\n\n```\nconst mainPaymentIntegration = await integration.iframe.get('main-integration-name'); // Получение интеграции. При использовании метода \"Из глобальной конфигурации\" присваивается имя \"main-integration\"\n```\n\n2. Используйте необходимые методы для передачи настроек:\n\n<details><summary><b>Смена языка</b></summary>\n\n```\nawait mainPaymentIntegration.setLang(LANG) // LANG = 'ru' | 'en'\n```\n\n</details>\n\n<details><summary><b>Смена темы</b></summary>\n\nЕсли метод setTheme не вызван, тема будет изменяться автоматически в соответствии с системной\n\n```\nawait mainPaymentIntegration.setTheme(THEME) // THEME = 'dark' | 'light'\n```\n\n</details>\n\n<details><summary><b>Удаление интеграции</b></summary>\n\n```\nawait integration.iframe.remove(MAIN_INTEGRATION_NAME)\n// или\nawait mainPaymentIntegration.unmount()\n```\n\n</details>\n\n### Конфигурация IframeIntegrationConfig\n<details><summary><b>Интерфейс конфигурации IframeIntegrationConfig</b></summary>\n\n```\nexport interface IframeIntegrationConfig {\n  router?: {\n    /**\n     * Вызывается в момент получения события на открытие deepLink\n     * Стандартное значение: (url) => {window.location.href = url}\n     * @param url\n     */\n    deepLinkRedirectCallback?: (url: string) => Promise<void>;\n    /**\n     * Вызывается в момент получения события на открытие массива deepLink.\n     * Требуется для перебора разных приложений, например, для sberpay\n     * Стандартное значение: (links) => {\n     *   window.open(\n     *       `URL?links=${encodeURIComponent(JSON.stringify(links))}`,\n     *       '_blank',\n     *     );\n     * }\n     * URL - url скрипта перебора deepLink\n     * @param url\n     */\n    deepLinksRedirectCallback?: (links: string[]) => Promise<void>;\n    /**\n     * Вызывается в момент получения события на редирект\n     * Стандартное значение: (url) => {window.location.href = url}\n     * @param url\n     */\n    redirectCallback?: (url: string) => Promise<void>;\n  };\n  language?: {\n    /**\n     * Вызывается в момент изменения языка из платежной формы\n     * @param status\n     */\n    changedCallback?: (lang: IntegrationLang) => Promise<void>;\n  };\n  status?: {\n    /**\n     * Вызывается в момент изменения статуса платежа\n     * @param status\n     */\n    changedCallback?: (status: PaymentIntegrationStatus) => Promise<void>;\n  };\n}\n```\n\n```\nexport type PaymentIntegrationStatus =\n  | 'CANCELED'\n  | 'EXPIRED'\n  | 'NEW'\n  | 'PROCESSING_ERROR'\n  | 'PROCESSING'\n  | 'REFUNDED'\n  | 'REJECTED'\n  | 'SUCCESS';\n```\n\n</details>\n\n### Платежная форма во вложенном iframe\n<details><summary><b>Интеграция платежной формы во вложенном iframe</b></summary>\n\nБывают случаи, когда приложение используется внутри iframe, который находится внутри другого iframe.\nДля работы виджета, нужно встроить скрипт и инициализировать его во всех вложенных iframe:\n\n1. Встройте и инициализируйте скрипт в основную (родительскую страницу):\n\n```\n<iframe id=\"payment-form-iframe\"></iframe\n```\n\n```\n// Загрузка и инициализация скрипта (js код)\nawait mainPaymentIntegration.connect(document.getElementById('payment-form-iframe'))\n```\n\n2. Встройте и инициализируйте скрипт во вложенных iframe.\nВ конечном вложенном iframe, подключение виджета аналогично инструкции в разделе \"Открытие платежной формы в iframe\".\nКаждый «промежуточный» скрипт будет перенаправлять сообщения в следующий iframe.\n\n```\n<iframe id=\"payment-form-iframe\"></iframe>\n```\n\n```\n// Загрузка и инициализация скрипта (js rjl)\nawait innerPaymentIntegration.connect(document.getElementById('payment-form-iframe')) // Если iframe создан\n```\n\n</details>\n\n# Примеры полной конфигурации\n\n## Виджет с кнопками оплаты (integration.payments)\n\n<details><summary><b>Все доступные способы оплаты</b></summary>\n\n```\n<div id=\"paymentContainer\"></div>\n<script>\n  /**\n   * URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет эквайринге и вернет PaymentURL\n   * @type {string}\n   */\n  const URL = 'https://Init';\n  /**\n   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис\n   * @type object\n   */\n  const INIT_PARAMS = {\n    get OrderId() {\n      return `${Date.now()}${Math.floor(Math.random() * 100)}`; // Случайное число, используется для примера\n    }\n  };\n<\/script>\n<script\n  async\n  onload=\"onPaymentIntegrationLoad()\"\n  src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"\n><\/script>\n<script>\n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      payment: {\n        container: document.getElementById('paymentContainer'),               \n        paymentStartCallback: async () => {\n          const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n          return res.PaymentURL;\n        },\n      },\n    },\n  };\n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig).then().catch();\n  }\n<\/script>\n```\n</details>\n\n<details><summary><b>Ручной, с включенными tpay, sbp и mirpay</b></summary>\n\n```\n<div id=\"paymentContainer\"></div>\n<script>\n  /**\n   * URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n   * @type {string}\n   */\n  const URL = 'https://Init';\n  /**\n   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис\n   * @type object\n   */\n  const INIT_PARAMS = {\n    get OrderId() {\n      return `${Date.now()}${Math.floor(Math.random() * 100)}`; // Случайное число, используется для примера\n    }\n  };\n<\/script>\n<script\n  async\n  onload=\"onPaymentIntegrationLoad()\"\n  src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"\n><\/script>\n<script>\n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      payment: {},\n    },\n  };\n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig)\n      .then(async (integration) => {\n        const MAIN_INTEGRATION_NAME = 'main-integration-name'; // Любое название для идентификации конкретной интеграции\n        const MAIN_INTEGRATION_CONFIG = {}; // Конфигурация описана в разделе \"Конфигурации PaymentIntegrationConfig\"\n        const mainPaymentIntegration = await integration.payments.create(\n          MAIN_INTEGRATION_NAME,\n          MAIN_INTEGRATION_CONFIG,\n        ); // Создание интеграции\n  \n        const container = document.getElementById('paymentContainer'); // Получите элемент, в который хотите встроить виджет\n        await mainPaymentIntegration.mount(container); // Монтируем интеграцию в контейнер\n  \n        await integration.payments.setPaymentStartCallback(async () => {\n          const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n  \n          return res.paymentUrl;\n        });\n  \n        const widgetTypes = ['mirpay', 'sbp', 'tpay']; // Доступные методы оплаты\n        await mainPaymentIntegration.updateWidgetTypes(widgetTypes); // Передаем нужные методы оплаты в интеграцию\n      })\n      .catch();\n  }\n<\/script>\n```\n\n</details>\n\n## Платежная форма в iframe\n\n<details><summary><b>Из глобальной конфигурации</b></summary>\n\n```\n<div id=\"paymentContainer\"></div>\n<script>\n  /**\n   * URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n   * @type {string}\n   */\n  const URL = 'https://Init';\n  /**\n   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис\n   * @type object\n   */\n  const INIT_PARAMS = {\n    get OrderId() {\n      return `${Date.now()}${Math.floor(Math.random() * 100)}`; // Случайное число, используется для примера\n    }\n  };\n<\/script>\n<script\n  async\n  onload=\"onPaymentIntegrationLoad()\"\n  src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"\n><\/script>\n<script>\n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      iframe: {\n        container: document.getElementById('paymentContainer'),          \n        paymentStartCallback: async () => {\n          const res = await new PaymentIntegration.Helpers().request(URL, 'POST', INIT_PARAMS);\n          return res.PaymentURL;\n        },\n      },\n    },\n  };\n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig).then().catch();\n  }\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Динамически</b></summary>\n\n```\n<div id=\"paymentContainer\"></div>\n<script>\n  /**\n   * URL - это url вашего backend-сервиса, который вызовет метод \"Инициировать платеж\" в интернет-эквайринге и вернет PaymentURL\n   * @type {string}\n   */\n  const URL = 'https://Init';\n  /**\n   * INIT_PARAMS - это необходимые параметры тела запроса, которые принимает ваш backend-сервис\n   * @type object\n   */\n  const INIT_PARAMS = {\n    get OrderId() {\n      return `${Date.now()}${Math.floor(Math.random() * 100)}`; // Случайное число, используется для примера\n    },\n    TerminalKey: 'myTerminalKey',\n    Amount: 10000,\n    Description: 'test payment',\n  };\n<\/script>\n<script\n  async\n  onload=\"onPaymentIntegrationLoad()\"\n  src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"\n><\/script>\n<script>\n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      iframe: {}\n    },\n  };\n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig)\n      .then(async (integration) => {\n        const MAIN_INTEGRATION_NAME = 'main-integration-name';\n        const iframeConfig = {};\n        const mainPaymentIntegration = await integration.iframe.create(MAIN_INTEGRATION_NAME, iframeConfig);\n  \n        const container = document.getElementById('paymentContainer');\n  \n        const res = await integration.helpers.init(URL, 'POST', INIT_PARAMS);\n  \n        await mainPaymentIntegration.mount(container, res.PaymentURL);\n      })\n      .catch();\n  }\n<\/script>\n```\n\n</details>\n\n<details><summary><b>Платежная форма во вложенном iframe</b></summary>\n\n1. Добавьте и инициализируйте скрипт на основном сайте:\n\n```\n<iframe id=\"first-iframe\" src=\"https://IFRAME_FIRST_URL\"></div>\n<script\n  async\n  onload=\"onPaymentIntegrationLoad()\"\n  src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"\n><\/script>\n<script>\n  const initConfig = {\n    /**\n     * Значение terminalKey из личного кабинета\n     */\n    terminalKey: 'myTerminalKey',\n    product: 'eacq',\n    features: {\n      iframe: {},\n    },\n  };\n  \n  function onPaymentIntegrationLoad() {\n    PaymentIntegration.init(initConfig)\n      .then(async (integration) => {\n        const MAIN_INTEGRATION_NAME = 'main-integration-name';\n        const iframeConfig = {};\n        const mainPaymentIntegration = await integration.iframe.create(MAIN_INTEGRATION_NAME, iframeConfig);\n  \n        const iframe = document.getElementById('first-iframe');\n  \n        await mainPaymentIntegration.connect(iframe);\n      })\n      .catch();\n  }\n<\/script>\n```\n\n2. Подключите для вложенного iframe скрипт по инструкции в разделе \"Открытие платежной формы в iframe\".\n\n</details>","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"servers":[{"url":"https://rest-api-test.tinkoff.ru/v2","description":"Тестовый URL. Для возможности отправки запросов с IP-адресов, которые находятся вне РФ, напишите на почту acq_help@tbank.ru c просьбой добавить ваши IP в WL"},{"url":"https://securepay.tinkoff.ru/v2","description":"Боевой URL"}],"paths":{},"components":{}}},"searchIndex":{"store":["section/Istoriya-izmenenij","section/Vvedenie","section/Trebovaniya-k-podklyucheniyu","section/Podderzhivaemye-versii-brauzerov","section/Podgotovka-k-ispolzovaniyu","section/Podklyuchenie-skripta-integracii","section/Moduli","section/Moduli/Knopki-bystroj-oplaty","section/Moduli/Otkrytie-platezhnoj-formy-v-iframe","section/Primery-polnoj-konfiguracii","section/Primery-polnoj-konfiguracii/Vidzhet-s-knopkami-oplaty-(integration.payments)","section/Primery-polnoj-konfiguracii/Platezhnaya-forma-v-iframe"],"index":{"version":"2.3.9","fields":["title","description"],"fieldVectors":[["title/0",[0,0.534]],["description/0",[0,0.759,1,3.539]],["title/1",[0,0.484]],["description/1",[0,0.764,2,3.461,3,1.111]],["title/2",[0,0.553]],["description/2",[0,0.763,4,1.035,5,1.585,6,3.226,7,1.035,8,3.226,9,1.96,10,3.226,11,3.226,12,4.341,13,4.341,14,4.341,15,4.341,16,4.341,17,3.226,18,3.226,19,3.226,20,3.226,21,3.226]],["title/3",[0,0.553]],["description/3",[0,0.759,22,3.424,23,3.424,24,3.424,25,3.424,26,3.424,27,3.424,28,3.424,29,3.424,30,3.98,31,3.424,32,3.424,33,3.424,34,3.424,35,3.424,36,3.424,37,3.424]],["title/4",[0,0.553]],["description/4",[0,0.771,4,1.175,7,1.175,38,0.956,39,2.978]],["title/5",[0,0.553]],["description/5",[0,0.772,3,1.187,4,0.345,5,1.259,7,0.345,38,1.069,40,1.076,41,1.521,42,1.076,43,1.076,44,1.076,45,1.576,46,1.066,47,1.066,48,1.754,49,1.521,50,1.272,51,2.155,52,1.272,53,1.021,54,1.091,55,1.021,56,0.885,57,1.076,58,1.091,59,0.529,60,1.487,61,0.529,62,1.272,63,1.076,64,1.076,65,1.124,66,1.754,67,1.372,68,1.754,69,1.076,70,1.076,71,1.444,72,1.206,73,1.076,74,1.066,75,1.076,76,1.076,77,1.076,78,1.076,79,1.076,80,1.076,81,0.821,82,1.076,83,1.076,84,1.076,85,1.076,86,1.076,87,1.124,88,0.885,89,1.021,90,1.124,91,1.259,92,1.754,93,0.654,94,0.654,95,0.429,96,1.372,97,1.715,98,1.696,99,2.221,100,1.696,101,1.956,102,1.559,103,1.557,104,1.473,105,1.559,106,1.021,107,2.023,108,1.557,109,1.206,110,1.124,111,1.206,112,1.124,113,1.206,114,1.557,115,1.557,116,1.557,117,1.557,118,1.557,119,1.557,120,1.557,121,1.066,122,0.699,123,0.654,124,0.654]],["title/6",[0,0.484]],["description/6",[]],["title/7",[0,0.553]],["description/7",[0,0.772,4,0.686,5,0.5,7,0.686,9,0.618,38,0.946,41,1.572,45,1.297,49,1.572,50,0.987,51,0.777,52,0.405,53,0.405,55,1.384,56,1.297,58,0.5,59,0.5,60,0.5,61,0.5,62,1.449,65,0.405,67,1.557,71,0.987,72,0.668,74,0.618,81,1.28,87,0.851,88,0.851,89,0.851,90,0.851,91,1.217,93,1.665,94,1.018,95,0.987,96,0.851,97,0.618,98,0.777,100,0.777,102,1.092,103,0.618,104,0.987,105,1.297,106,0.405,107,1.018,108,1.018,109,0.851,110,0.405,111,0.851,112,0.405,113,0.851,114,0.618,115,0.618,116,0.618,117,1.894,118,0.618,119,1.299,120,0.618,121,1.791,122,0.851,124,1.018,125,1.28,126,1.28,127,1.632,128,1.018,129,1.676,130,1.892,131,1.018,132,1.632,133,1.018,134,1.018,135,0.618,136,1.892,137,1.217,138,1.018,139,1.018,140,0.5,141,0.5,142,1.018,143,1.018,144,0.5,145,1.018,146,0.777,147,1.018,148,1.018,149,1.676,150,1.28,151,1.018,152,0.777,153,0.777,154,1.018,155,1.018,156,1.018,157,1.018,158,0.777,159,1.018,160,1.676,161,1.018,162,2.137,163,1.018,164,1.018,165,1.676,166,1.018,167,1.632,168,1.676,169,2.137,170,1.018,171,1.018,172,1.018,173,2.478,174,1.018,175,2.948,176,1.676,177,1.05,178,1.676,179,1.676,180,1.018,181,0.777,182,0.777,183,0.777,184,0.777,185,0.777,186,0.777,187,0.777,188,0.777,189,1.018,190,1.018,191,1.018,192,0.777,193,1.018,194,1.018,195,1.018,196,1.018,197,1.018,198,1.018,199,1.018,200,1.018,201,1.018,202,1.018,203,0.777,204,1.632,205,1.28,206,0.777,207,2.38,208,1.28,209,0.777,210,0.777,211,0.777,212,0.777,213,0.777,214,1.018,215,1.018,216,1.018,217,1.632,218,1.018,219,1.018,220,1.018,221,0.777,222,1.28,223,1.018,224,1.676,225,2.137,226,1.018,227,1.018,228,0.777,229,0.777,230,0.777,231,0.777,232,0.777,233,0.777]],["title/8",[0,0.534,3,0.545]],["description/8",[0,0.772,3,1.366,4,0.877,5,0.725,7,0.877,9,0.897,38,0.981,41,1.617,45,1.218,49,1.549,50,0.897,52,0.588,53,0.588,54,0.725,55,1.382,56,1.218,62,1.437,65,0.588,67,1.597,71,1.088,72,1.088,74,0.897,87,0.897,88,0.897,89,0.897,90,0.897,93,1.369,94,0.897,95,1.088,96,1.088,97,0.897,101,2.086,102,1.088,103,0.897,104,1.218,105,1.437,106,0.588,107,1.369,108,1.369,109,1.088,110,0.897,111,0.897,112,1.088,113,1.088,114,0.897,115,0.897,116,0.897,117,2.108,118,0.897,119,0.897,120,0.897,122,0.897,123,0.897,130,1.127,135,0.897,137,1.107,140,0.725,141,0.725,144,0.725,150,1.127,153,1.127,158,1.127,167,1.127,177,0.725,181,1.127,182,1.72,183,1.127,184,1.127,185,1.127,186,1.127,187,1.127,188,1.127,192,1.127,203,1.127,204,2.086,205,1.72,206,1.127,207,2.513,208,1.72,209,1.127,210,1.127,211,1.127,212,1.127,213,1.127,217,2.334,221,1.72,222,1.72,228,1.127,229,1.127,230,1.127,231,1.127,232,1.127,233,1.127,234,1.72,235,1.127,236,1.477,237,1.477,238,1.477,239,1.477,240,1.477,241,1.477,242,2.253,243,2.253,244,1.477,245,1.477,246,1.477]],["title/9",[0,0.553]],["description/9",[]],["title/10",[0,0.534,247,1.697]],["description/10",[0,0.77,38,1.191,41,1.595,45,1.731,46,1.85,47,1.85,49,1.742,50,1.213,52,1.213,53,1.213,54,1.1,55,1.213,56,0.892,58,1.1,59,1.1,60,1.1,61,1.1,62,1.213,65,1.378,67,1.595,71,1.478,72,1.213,87,1.213,88,1.213,89,1.213,90,1.213,91,1.496,95,1.213,96,1.213,102,0.892,104,1.213,105,1.478,106,1.213,109,1.213,110,1.213,111,1.213,112,1.595,113,1.213,121,1.361,122,1.213,125,1.71,126,2.324,127,2.324,132,1.71,136,2.324,137,1.1,140,1.496,141,1.1,144,1.1,146,1.71,152,1.71,177,1.823,248,2.324,249,2.324,250,2.324,251,2.324,252,2.324,253,2.324,254,2.24,255,2.24]],["title/11",[0,0.517,3,0.61]],["description/11",[0,0.77,3,1.301,4,0.691,7,0.691,38,1.301,41,1.576,45,1.76,46,2.059,47,2.059,49,1.767,50,1.35,52,1.35,53,1.35,54,1.058,55,1.181,56,0.858,58,1.456,59,1.456,60,1.456,61,1.456,62,1.35,65,1.454,67,1.576,71,1.35,72,0.858,87,1.35,88,1.454,89,1.35,90,1.35,91,1.058,95,1.181,96,1.181,102,0.858,104,1.181,105,1.454,106,1.181,109,1.181,110,0.858,111,1.181,112,1.576,113,1.181,122,1.181,123,1.309,124,1.309,135,1.309,137,1.456,140,1.456,141,1.456,144,1.058,177,1.793,234,2.787,235,2.263,248,2.263,249,2.263,250,2.263,251,2.263,252,2.263,253,2.263,256,2.154,257,2.154,258,2.154,259,2.154,260,2.154,261,2.154,262,2.154,263,2.154]]],"invertedIndex":[["",{"_index":0,"title":{"0":{},"1":{},"2":{},"3":{},"4":{},"5":{},"6":{},"7":{},"8":{},"9":{},"10":{},"11":{}},"description":{"0":{},"1":{},"2":{},"3":{},"4":{},"5":{},"7":{},"8":{},"10":{},"11":{}}}],["0.375",{"_index":161,"title":{},"description":{"7":{}}}],["0.75",{"_index":166,"title":{},"description":{"7":{}}}],["1",{"_index":4,"title":{},"description":{"2":{},"4":{},"5":{},"7":{},"8":{},"11":{}}}],["100",{"_index":253,"title":{},"description":{"10":{},"11":{}}}],["10000",{"_index":257,"title":{},"description":{"11":{}}}],["11",{"_index":27,"title":{},"description":{"3":{}}}],["19",{"_index":25,"title":{},"description":{"3":{}}}],["2",{"_index":7,"title":{},"description":{"2":{},"4":{},"5":{},"7":{},"8":{},"11":{}}}],["23.04.2025",{"_index":1,"title":{},"description":{"0":{}}}],["3",{"_index":9,"title":{},"description":{"2":{},"7":{},"8":{}}}],["3.5",{"_index":164,"title":{},"description":{"7":{}}}],["4",{"_index":145,"title":{},"description":{"7":{}}}],["5",{"_index":148,"title":{},"description":{"7":{}}}],["50",{"_index":31,"title":{},"description":{"3":{}}}],["63",{"_index":23,"title":{},"description":{"3":{}}}],["67",{"_index":29,"title":{},"description":{"3":{}}}],["73",{"_index":37,"title":{},"description":{"3":{}}}],["8.2",{"_index":35,"title":{},"description":{"3":{}}}],["_blank",{"_index":211,"title":{},"description":{"7":{},"8":{}}}],["accent",{"_index":169,"title":{},"description":{"7":{}}}],["accent-black",{"_index":180,"title":{},"description":{"7":{}}}],["addcardifram",{"_index":92,"title":{},"description":{"5":{}}}],["alert",{"_index":225,"title":{},"description":{"7":{}}}],["alertinfo",{"_index":227,"title":{},"description":{"7":{}}}],["amount",{"_index":256,"title":{},"description":{"11":{}}}],["android",{"_index":133,"title":{},"description":{"7":{}}}],["async",{"_index":65,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["async></script",{"_index":48,"title":{},"description":{"5":{}}}],["await",{"_index":67,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["b></summari",{"_index":56,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["backend",{"_index":105,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["bnpl",{"_index":129,"title":{},"description":{"7":{}}}],["bodi",{"_index":43,"title":{},"description":{"5":{}}}],["boolean",{"_index":220,"title":{},"description":{"7":{}}}],["buttonthem",{"_index":175,"title":{},"description":{"7":{}}}],["buttonthemetpay",{"_index":176,"title":{},"description":{"7":{}}}],["c",{"_index":5,"title":{},"description":{"2":{},"5":{},"7":{},"8":{}}}],["callback",{"_index":149,"title":{},"description":{"7":{}}}],["cancel",{"_index":228,"title":{},"description":{"7":{},"8":{}}}],["catch",{"_index":61,"title":{},"description":{"5":{},"7":{},"10":{},"11":{}}}],["changedcallback",{"_index":221,"title":{},"description":{"7":{},"8":{}}}],["chrome",{"_index":22,"title":{},"description":{"3":{}}}],["closedcallback",{"_index":216,"title":{},"description":{"7":{}}}],["config",{"_index":100,"title":{},"description":{"5":{},"7":{}}}],["connect-src",{"_index":19,"title":{},"description":{"2":{}}}],["connection_typ",{"_index":154,"title":{},"description":{"7":{}}}],["const",{"_index":49,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["contain",{"_index":96,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["cross-origin-opener-polici",{"_index":8,"title":{},"description":{"2":{}}}],["csp",{"_index":10,"title":{},"description":{"2":{}}}],["dark",{"_index":187,"title":{},"description":{"7":{},"8":{}}}],["data",{"_index":156,"title":{},"description":{"7":{}}}],["date.now()}${math.floor(math.random",{"_index":252,"title":{},"description":{"10":{},"11":{}}}],["deeplink",{"_index":204,"title":{},"description":{"7":{},"8":{}}}],["deeplinkredirectcallback",{"_index":206,"title":{},"description":{"7":{},"8":{}}}],["deeplinksredirectcallback",{"_index":212,"title":{},"description":{"7":{},"8":{}}}],["default",{"_index":168,"title":{},"description":{"7":{}}}],["descript",{"_index":258,"title":{},"description":{"11":{}}}],["detail",{"_index":62,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["details><summary><b",{"_index":55,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["details><summary><b>динамически</b></summari",{"_index":135,"title":{},"description":{"7":{},"8":{},"11":{}}}],["details><summary><b>динамический</b></summari",{"_index":69,"title":{},"description":{"5":{}}}],["details><summary><b>простой</b></summari",{"_index":57,"title":{},"description":{"5":{}}}],["details><summary><b>ручной</b></summari",{"_index":139,"title":{},"description":{"7":{}}}],["details><summary><b>синхронный</b></summari",{"_index":63,"title":{},"description":{"5":{}}}],["dialog",{"_index":214,"title":{},"description":{"7":{}}}],["displayparam",{"_index":159,"title":{},"description":{"7":{}}}],["displayparams</b></summari",{"_index":171,"title":{},"description":{"7":{}}}],["div",{"_index":248,"title":{},"description":{"10":{},"11":{}}}],["document.bodi",{"_index":201,"title":{},"description":{"7":{}}}],["document.body.appendchild(el",{"_index":85,"title":{},"description":{"5":{}}}],["document.createelement('script",{"_index":76,"title":{},"description":{"5":{}}}],["document.getelementbyid('first-ifram",{"_index":262,"title":{},"description":{"11":{}}}],["document.getelementbyid('paymentcontain",{"_index":122,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["eacq",{"_index":90,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["edg",{"_index":24,"title":{},"description":{"3":{}}}],["element",{"_index":75,"title":{},"description":{"5":{}}}],["element.async",{"_index":80,"title":{},"description":{"5":{}}}],["element.onerror",{"_index":84,"title":{},"description":{"5":{}}}],["element.onload",{"_index":82,"title":{},"description":{"5":{}}}],["element.src",{"_index":77,"title":{},"description":{"5":{}}}],["element.typ",{"_index":78,"title":{},"description":{"5":{}}}],["elementforblock",{"_index":202,"title":{},"description":{"7":{}}}],["en",{"_index":184,"title":{},"description":{"7":{},"8":{}}}],["error",{"_index":224,"title":{},"description":{"7":{}}}],["exit",{"_index":215,"title":{},"description":{"7":{}}}],["expir",{"_index":229,"title":{},"description":{"7":{},"8":{}}}],["export",{"_index":93,"title":{},"description":{"5":{},"7":{},"8":{}}}],["failedpaymentstartcallback",{"_index":223,"title":{},"description":{"7":{}}}],["featur",{"_index":87,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["fill",{"_index":178,"title":{},"description":{"7":{}}}],["firefox",{"_index":28,"title":{},"description":{"3":{}}}],["frame-src",{"_index":17,"title":{},"description":{"2":{}}}],["frontend",{"_index":108,"title":{},"description":{"5":{},"7":{},"8":{}}}],["function",{"_index":52,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["gap",{"_index":160,"title":{},"description":{"7":{}}}],["height",{"_index":174,"title":{},"description":{"7":{}}}],["helper",{"_index":115,"title":{},"description":{"5":{},"7":{},"8":{}}}],["hight",{"_index":163,"title":{},"description":{"7":{}}}],["html",{"_index":42,"title":{},"description":{"5":{}}}],["htmlelement",{"_index":98,"title":{},"description":{"5":{},"7":{}}}],["http",{"_index":6,"title":{},"description":{"2":{}}}],["https://*.nspk.ru",{"_index":15,"title":{},"description":{"2":{}}}],["https://*.t-static.ru",{"_index":16,"title":{},"description":{"2":{}}}],["https://*.tbank.ru",{"_index":14,"title":{},"description":{"2":{}}}],["https://*.tcsbank.ru",{"_index":13,"title":{},"description":{"2":{}}}],["https://*.tinkoff.ru",{"_index":12,"title":{},"description":{"2":{}}}],["https://acq-paymentform-integrationjs.t-static.ru/integration.j",{"_index":40,"title":{},"description":{"5":{}}}],["https://cdn.tbank.ru/static/documents/terminal_key_pf.png)](https://cdn.tbank.ru/static/documents/terminal_key_pf.png",{"_index":39,"title":{},"description":{"4":{}}}],["https://init",{"_index":250,"title":{},"description":{"10":{},"11":{}}}],["https://securepayments.tinkoff.ru/uuid",{"_index":151,"title":{},"description":{"7":{}}}],["https://www.tbank.ru/business/website-build",{"_index":153,"title":{},"description":{"7":{},"8":{}}}],["https://www.tbank.ru/kassa/dev/payments/#tag/standartnyj-platezh/operation/init",{"_index":150,"title":{},"description":{"7":{},"8":{}}}],["id=\"first-ifram",{"_index":260,"title":{},"description":{"11":{}}}],["id=\"payment-form-iframe\"></ifram",{"_index":242,"title":{},"description":{"8":{}}}],["id=\"paymentcontain",{"_index":97,"title":{},"description":{"5":{},"7":{},"8":{}}}],["id=\"paymentcontainer\"></div",{"_index":249,"title":{},"description":{"10":{},"11":{}}}],["ie",{"_index":32,"title":{},"description":{"3":{}}}],["ifram",{"_index":3,"title":{"8":{},"11":{}},"description":{"1":{},"5":{},"8":{},"11":{}}}],["iframe</b></summari",{"_index":123,"title":{},"description":{"5":{},"8":{},"11":{}}}],["iframeconfig",{"_index":234,"title":{},"description":{"8":{},"11":{}}}],["iframeintegrationconfig",{"_index":101,"title":{},"description":{"5":{},"8":{}}}],["iframeintegrationconfig</b></summari",{"_index":239,"title":{},"description":{"8":{}}}],["img-src",{"_index":18,"title":{},"description":{"2":{}}}],["init_param",{"_index":112,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["initconfig",{"_index":50,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["initpay",{"_index":66,"title":{},"description":{"5":{}}}],["initpayment().then().catch",{"_index":68,"title":{},"description":{"5":{}}}],["innerpaymentintegration.connect(document.getelementbyid('payment-form-ifram",{"_index":246,"title":{},"description":{"8":{}}}],["integr",{"_index":60,"title":{},"description":{"5":{},"7":{},"10":{},"11":{}}}],["integration.helpers.init(url",{"_index":124,"title":{},"description":{"5":{},"7":{},"11":{}}}],["integration.helpers.init(url,'post",{"_index":236,"title":{},"description":{"8":{}}}],["integration.iframe.create(main_integration_nam",{"_index":235,"title":{},"description":{"8":{},"11":{}}}],["integration.iframe.get('main-integration-nam",{"_index":237,"title":{},"description":{"8":{}}}],["integration.iframe.remove(main_integration_nam",{"_index":238,"title":{},"description":{"8":{}}}],["integration.j",{"_index":2,"title":{},"description":{"1":{}}}],["integration.pay",{"_index":247,"title":{"10":{}},"description":{}}],["integration.payment.remove(main_integration_nam",{"_index":191,"title":{},"description":{"7":{}}}],["integration.payments.cr",{"_index":255,"title":{},"description":{"10":{}}}],["integration.payments.create(main_integration_nam",{"_index":142,"title":{},"description":{"7":{}}}],["integration.payments.get('main-integr",{"_index":157,"title":{},"description":{"7":{}}}],["integration.payments.get('main-integration-nam",{"_index":143,"title":{},"description":{"7":{}}}],["integration.payments.mountallavailable(contain",{"_index":138,"title":{},"description":{"7":{}}}],["integration.payments.setpaymentstartcallback(async",{"_index":152,"title":{},"description":{"7":{},"10":{}}}],["integrationinitconfig",{"_index":51,"title":{},"description":{"5":{},"7":{}}}],["integrationlang",{"_index":241,"title":{},"description":{"8":{}}}],["interfac",{"_index":94,"title":{},"description":{"5":{},"7":{},"8":{}}}],["internet",{"_index":34,"title":{},"description":{"3":{}}}],["js",{"_index":243,"title":{},"description":{"8":{}}}],["lang",{"_index":182,"title":{},"description":{"7":{},"8":{}}}],["languag",{"_index":240,"title":{},"description":{"8":{}}}],["light",{"_index":188,"title":{},"description":{"7":{},"8":{}}}],["link",{"_index":208,"title":{},"description":{"7":{},"8":{}}}],["loadedcallback",{"_index":195,"title":{},"description":{"7":{}}}],["loader",{"_index":194,"title":{},"description":{"7":{}}}],["loadjs('https://acq-paymentform-integrationjs.t-static.ru/integration.j",{"_index":86,"title":{},"description":{"5":{}}}],["loadjs(url",{"_index":70,"title":{},"description":{"5":{}}}],["main-integr",{"_index":158,"title":{},"description":{"7":{},"8":{}}}],["main-integration-nam",{"_index":141,"title":{},"description":{"7":{},"8":{},"10":{},"11":{}}}],["main_integration_config",{"_index":136,"title":{},"description":{"7":{},"10":{}}}],["main_integration_nam",{"_index":140,"title":{},"description":{"7":{},"8":{},"10":{},"11":{}}}],["mainpaymentintegr",{"_index":137,"title":{},"description":{"7":{},"8":{},"10":{},"11":{}}}],["mainpaymentintegration.connect(document.getelementbyid('payment-form-ifram",{"_index":244,"title":{},"description":{"8":{}}}],["mainpaymentintegration.connect(ifram",{"_index":263,"title":{},"description":{"11":{}}}],["mainpaymentintegration.lock",{"_index":189,"title":{},"description":{"7":{}}}],["mainpaymentintegration.mount(contain",{"_index":144,"title":{},"description":{"7":{},"8":{},"10":{},"11":{}}}],["mainpaymentintegration.setlang(lang",{"_index":181,"title":{},"description":{"7":{},"8":{}}}],["mainpaymentintegration.settheme(them",{"_index":186,"title":{},"description":{"7":{},"8":{}}}],["mainpaymentintegration.unlock",{"_index":190,"title":{},"description":{"7":{}}}],["mainpaymentintegration.unmount",{"_index":192,"title":{},"description":{"7":{},"8":{}}}],["mainpaymentintegration.updatedisplayparams(displayparam",{"_index":170,"title":{},"description":{"7":{}}}],["mainpaymentintegration.updatewidgettypes(widgettyp",{"_index":146,"title":{},"description":{"7":{},"10":{}}}],["mirpay",{"_index":132,"title":{},"description":{"7":{},"10":{}}}],["mirpay</b></summari",{"_index":254,"title":{},"description":{"10":{}}}],["mobil",{"_index":36,"title":{},"description":{"3":{}}}],["myterminalkey",{"_index":88,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["new",{"_index":72,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["null",{"_index":99,"title":{},"description":{"5":{}}}],["number",{"_index":173,"title":{},"description":{"7":{}}}],["object",{"_index":251,"title":{},"description":{"10":{},"11":{}}}],["onload",{"_index":44,"title":{},"description":{"5":{}}}],["onload=\"onpaymentintegrationload",{"_index":47,"title":{},"description":{"5":{},"10":{},"11":{}}}],["onpaymentintegrationload",{"_index":53,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["openoverlay",{"_index":219,"title":{},"description":{"7":{}}}],["opera",{"_index":30,"title":{},"description":{"3":{}}}],["orderid",{"_index":106,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["outlin",{"_index":179,"title":{},"description":{"7":{}}}],["overflow",{"_index":200,"title":{},"description":{"7":{}}}],["overlay",{"_index":218,"title":{},"description":{"7":{}}}],["overlaytyp",{"_index":118,"title":{},"description":{"5":{},"7":{},"8":{}}}],["param",{"_index":117,"title":{},"description":{"5":{},"7":{},"8":{}}}],["payment",{"_index":91,"title":{},"description":{"5":{},"7":{},"10":{},"11":{}}}],["paymentcontain",{"_index":134,"title":{},"description":{"7":{}}}],["paymentintegr",{"_index":114,"title":{},"description":{"5":{},"7":{},"8":{}}}],["paymentintegration.helpers().request(url",{"_index":110,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["paymentintegration.init(initconfig",{"_index":58,"title":{},"description":{"5":{},"7":{},"10":{},"11":{}}}],["paymentintegration.init(initconfig).then().catch",{"_index":54,"title":{},"description":{"5":{},"8":{},"10":{},"11":{}}}],["paymentintegrationconfig",{"_index":121,"title":{},"description":{"5":{},"7":{},"10":{}}}],["paymentintegrationconfig</b></summari",{"_index":193,"title":{},"description":{"7":{}}}],["paymentintegrationstatu",{"_index":222,"title":{},"description":{"7":{},"8":{}}}],["paymentstartcallback",{"_index":102,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["paymenttyp",{"_index":119,"title":{},"description":{"5":{},"7":{},"8":{}}}],["paymenturl",{"_index":104,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["post",{"_index":111,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["process",{"_index":231,"title":{},"description":{"7":{},"8":{}}}],["processing_error",{"_index":230,"title":{},"description":{"7":{},"8":{}}}],["product",{"_index":89,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["promis",{"_index":103,"title":{},"description":{"5":{},"7":{},"8":{}}}],["promise((resolv",{"_index":73,"title":{},"description":{"5":{}}}],["promise<str",{"_index":120,"title":{},"description":{"5":{},"7":{},"8":{}}}],["promise<void",{"_index":207,"title":{},"description":{"7":{},"8":{}}}],["radiu",{"_index":165,"title":{},"description":{"7":{}}}],["re",{"_index":109,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["redirectcallback",{"_index":213,"title":{},"description":{"7":{},"8":{}}}],["refund",{"_index":232,"title":{},"description":{"7":{},"8":{}}}],["reject",{"_index":74,"title":{},"description":{"5":{},"7":{},"8":{}}}],["rem",{"_index":162,"title":{},"description":{"7":{}}}],["request",{"_index":116,"title":{},"description":{"5":{},"7":{},"8":{}}}],["res.paymenturl",{"_index":113,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["resolv",{"_index":83,"title":{},"description":{"5":{}}}],["return",{"_index":71,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["rjl",{"_index":245,"title":{},"description":{"8":{}}}],["router",{"_index":203,"title":{},"description":{"7":{},"8":{}}}],["ru",{"_index":183,"title":{},"description":{"7":{},"8":{}}}],["safari",{"_index":26,"title":{},"description":{"3":{}}}],["samsung",{"_index":33,"title":{},"description":{"3":{}}}],["sberpay",{"_index":130,"title":{},"description":{"7":{},"8":{}}}],["sbp",{"_index":126,"title":{},"description":{"7":{},"10":{}}}],["script",{"_index":45,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["script-src",{"_index":11,"title":{},"description":{"2":{}}}],["scroll",{"_index":199,"title":{},"description":{"7":{}}}],["setthem",{"_index":185,"title":{},"description":{"7":{},"8":{}}}],["showalertcallback",{"_index":226,"title":{},"description":{"7":{}}}],["src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.j",{"_index":46,"title":{},"description":{"5":{},"10":{},"11":{}}}],["src=\"https://acq-paymentform-integrationjs.t-static.ru/integration.js\"></script",{"_index":64,"title":{},"description":{"5":{}}}],["src=\"https://iframe_first_url\"></div",{"_index":261,"title":{},"description":{"11":{}}}],["statu",{"_index":217,"title":{},"description":{"7":{},"8":{}}}],["string",{"_index":95,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["style-src",{"_index":20,"title":{},"description":{"2":{}}}],["success",{"_index":233,"title":{},"description":{"7":{},"8":{}}}],["t-pay",{"_index":128,"title":{},"description":{"7":{}}}],["terminalkey",{"_index":38,"title":{},"description":{"4":{},"5":{},"7":{},"8":{},"10":{},"11":{}}}],["test",{"_index":259,"title":{},"description":{"11":{}}}],["text/javascript",{"_index":79,"title":{},"description":{"5":{}}}],["theme",{"_index":167,"title":{},"description":{"7":{},"8":{}}}],["then(async",{"_index":59,"title":{},"description":{"5":{},"7":{},"10":{},"11":{}}}],["tpay",{"_index":127,"title":{},"description":{"7":{},"10":{}}}],["true",{"_index":81,"title":{},"description":{"5":{},"7":{}}}],["type",{"_index":177,"title":{},"description":{"7":{},"8":{},"10":{},"11":{}}}],["unsafe-inlin",{"_index":21,"title":{},"description":{"2":{}}}],["updatewidgettyp",{"_index":147,"title":{},"description":{"7":{}}}],["url",{"_index":41,"title":{},"description":{"5":{},"7":{},"8":{},"10":{},"11":{}}}],["url?links=${encodeuricomponent(json.stringify(link",{"_index":210,"title":{},"description":{"7":{},"8":{}}}],["v2/init",{"_index":107,"title":{},"description":{"5":{},"7":{},"8":{}}}],["void",{"_index":196,"title":{},"description":{"7":{}}}],["webview",{"_index":131,"title":{},"description":{"7":{}}}],["widget",{"_index":155,"title":{},"description":{"7":{}}}],["widgetdisplayparam",{"_index":172,"title":{},"description":{"7":{}}}],["widgettyp",{"_index":125,"title":{},"description":{"7":{},"10":{}}}],["window.location.href",{"_index":205,"title":{},"description":{"7":{},"8":{}}}],["window.open",{"_index":209,"title":{},"description":{"7":{},"8":{}}}],["z-index",{"_index":197,"title":{},"description":{"7":{}}}],["zindex",{"_index":198,"title":{},"description":{"7":{}}}]],"pipeline":[]}},"options":{"theme":{"breakpoints":{"small":"900px","medium":"1400px"},"sidebar":{"backgroundColor":"#616871","textColor":"#fff"},"typography":{"fontFamily":"TinkoffSans, sans-serif, Arial","fontSize":"15px","headings":{"fontFamily":"TinkoffSansMedium, sans-serif, Arial"},"code":{"wrap":true}},"spacing":{"sectionHorizontal":40,"sectionVertical":20}}}};

      var container = document.getElementById('redoc');
      Redoc.hydrate(__redoc_state, container);

      </script>
</body>

</html>
